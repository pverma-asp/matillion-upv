{"job":{"components":{"2968208":{"id":2968208,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":773867971,"x":-976,"y":-48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[2968251],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"S3 Load ACH file"}}}},"visible":true},"4":{"slot":4,"name":"S3 Object Prefix","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ACHRET_${current_year}${current_month}${current_day}"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"8":{"slot":8,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${file_staging_table_name_returns}"}}}},"visible":true},"9":{"slot":9,"name":"Load Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"record_type"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"ach_data"}}}},"visible":true},"23":{"slot":23,"name":"Date Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"auto"}}}},"visible":true},"24":{"slot":24,"name":"Time Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"auto"}}}},"visible":true},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968209":{"id":2968209,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-2016,"y":-48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2968299],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968210":{"id":2968210,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-768,"y":-48,"width":32,"height":32,"inputConnectorIDs":[2968300],"outputSuccessConnectorIDs":[2968296],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Load file sections"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"copy ${staging_schema}.ach_return_file_header_staging(priority_code, immediate_destination, immediate_origin, file_creation_date, file_creation_time, file_id_modifier, record_size, blocking_factor, format_code, immediate_destination_name, immediate_origin_name, reference_code)\nfrom '${file_staging_path}/ach_return_file_header.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nfixedwidth 'priority_code:2,immediate_destination:10,immediate_origin:10,file_creation_date:6,file_creation_time:4,file_id_modifier:1,record_size:3,blocking_factor:2,format_code:1,immediate_destination_name:23,immediate_origin_name:23,reference_code:8';\n\ncopy ${staging_schema}.ach_return_batch_header_staging(service_class_code, company_name, company_discretionary_data, company_identification, standard_entry_class_code, company_entry_description, company_descriptive_date, effective_entry_date, settlement_date_julian, originator_status_code, originating_dfi_identification, batch_number)\nfrom '${file_staging_path}/ach_return_batch_header.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nfixedwidth 'service_class_code:3,company_name:16,company_discretionary_data:20,company_identification:10,standard_entry_class_code:3,company_entry_description:10,company_descriptive_date:6,effective_entry_date:6,settlement_date_julian:3,originator_status_code:1,originating_dfi_identification:8,batch_number:7';\n\ncopy ${staging_schema}.ach_return_entry_detail_staging(transaction_code, receiving_dfi_identification, check_digit, dfi_account_number, amount, individual_identification_number__identification_number__check_serial_number, individual_name__receiving_company_name, discretionary_data__payment_type_code__card_transaction_type_code, addenda_record_indicator, trace_number)\nfrom '${file_staging_path}/ach_return_entry_detail.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nfixedwidth 'transaction_code:2,receiving_dfi_identification:8,check_digit:1,dfi_account_number:17,amount:10,individual_identification_number__identification_number__check_serial_number:15,individual_name__receiving_company_name:22,discretionary_data__payment_type_code__card_transaction_type_code:2,addenda_record_indicator:1,trace_number:15';\n\ncopy\t${staging_schema}.ach_return_addenda_record(addenda_type_code, return_reason_code, original_entry_trace_number,date_of_death, original_receiving_dfi_identification, addenda_information, trace_number)\nfrom\t'${file_staging_path}/ach_return_addenda_record.ach'\niam_role\t'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nfixedwidth\t'addenda_type_code:2,return_reason_code:3,original_entry_trace_number:15,date_of_death:6,original_receiving_dfi_identification:8,addenda_information:44,trace_number:15';\t\n\ncopy ${staging_schema}.ach_return_batch_control_staging(service_class_code, entry__addenda_count, entry_hash, total_debit_entry_dollar_amount_in_batch, total_credit_entry_dollar_amount_in_batch, company_identification, message_authentication_code, reserved, originating_dfi_identification, batch_number)\nfrom '${file_staging_path}/ach_return_batch_control.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nfixedwidth 'service_class_code:3,entry__addenda_count:6,entry_hash:10,total_debit_entry_dollar_amount_in_batch:12,total_credit_entry_dollar_amount_in_batch:12,company_identification:10,message_authentication_code:19,reserved:6,originating_dfi_identification:8,batch_number:7';\n\ncopy ${staging_schema}.ach_return_file_control_staging(batch_count, block_count, entry__addenda_count, entry_hash, total_debit_entry_dollar_amount_in_file, total_credit_entry_dollar_amount_in_file, reserved)\nfrom '${file_staging_path}/ach_return_file_control.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nfixedwidth 'batch_count:6,block_count:6,entry__addenda_count:8,entry_hash:10,total_debit_entry_dollar_amount_in_file:12,total_credit_entry_dollar_amount_in_file:12,reserved:39';"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968211":{"id":2968211,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-896,"y":-48,"width":32,"height":32,"inputConnectorIDs":[2968251],"outputSuccessConnectorIDs":[2968300],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Unload file sections"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"unload ('select ach_data from ${staging_schema}.${file_staging_table_name_returns} where record_type = ''1''')\nto '${file_staging_path}/ach_return_file_header.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nENCRYPTED\nKMS_KEY_ID '${kms_key_id}'\nparallel off\nallowoverwrite\n;\n\nunload ('select ach_data from ${staging_schema}.${file_staging_table_name_returns} where record_type = ''5''')\nto '${file_staging_path}/ach_return_batch_header.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nENCRYPTED\nKMS_KEY_ID '${kms_key_id}'\nparallel off\nallowoverwrite\n;\n\nunload ('select ach_data from ${staging_schema}.${file_staging_table_name_returns} where record_type = ''6''')\nto '${file_staging_path}/ach_return_entry_detail.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nENCRYPTED\nKMS_KEY_ID '${kms_key_id}'\nparallel off\nallowoverwrite\n;\n\nunload ('select ach_data from ${staging_schema}.${file_staging_table_name_returns} where record_type = ''7''')\nto '${file_staging_path}/ach_return_addenda_record.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nENCRYPTED\nKMS_KEY_ID '${kms_key_id}'\nparallel off\nallowoverwrite\n;\n\n\nunload ('select ach_data from ${staging_schema}.${file_staging_table_name_returns} where record_type = ''8''')\nto '${file_staging_path}/ach_return_batch_control.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nENCRYPTED\nKMS_KEY_ID '${kms_key_id}'\nparallel off\nallowoverwrite\n;\n\nunload ('select ach_data from ${staging_schema}.${file_staging_table_name_returns} where record_type = ''9'' and ach_data != replicate(''9'', 93)')\nto '${file_staging_path}/ach_return_file_control.ach'\niam_role 'arn:aws:iam::332894900161:role/RedshiftClusterRole'\nENCRYPTED\nKMS_KEY_ID '${kms_key_id}'\nparallel off\nallowoverwrite\n;\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968252":{"id":2968252,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-1744,"y":-48,"width":32,"height":32,"inputConnectorIDs":[2968299],"outputSuccessConnectorIDs":[2968297],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"import boto3\nimport re\nimport tempfile\nimport datetime\nimport os\nfrom urllib.parse import urlparse\n\ndef replace_new_lines(file_path):\n\twith open(file_path, 'r') as infile:\n\t\tfile_data = infile.read()\n\t\tif file_data.endswith('\\n'):\n\t\t\tfile_data = file_data.replace('\\n', '')\n\t\t\twith open(file_path, 'w') as outfile:\n\t\t\t\toutfile.write(file_data)\n\t\telse:\n\t\t\treturn 'No new lines found'\n\ndef addNewLine(filePath, every, delimiter):\n\t#Make sure to add the escape if you are using a special character ex: \\n\n\t#Provide full file path and # of characters before inserting \\n character\n\t#Open input file read-only copy read all contents into one variable \n\twith open(filePath, 'r+') as f:\n\t\tcontent = f.read()\n\t\t#Every n characters replace with delimiter\n\t\ttry:\n\t\t\tcontent_new = re.sub(\"(.{})\".format({every}), \"\\\\1{}\".format(delimiter), content, 0, re.DOTALL)\n\t\texcept UnicodeDecodeError:\n\t\t\tcontent_new = re.sub(\"(.{})\".format({every}), \"\\\\1{}\".format(delimiter), content.decode('latin1'), 0, re.DOTALL)\n\t\t#go back to the beginning of the file\n\t\tf.seek(0)\n\t\t#replace original content with regexed data\n\t\tf.write(content_new)\n\t\tf.truncate()\n\ndef addLineNumber(filePath):\n\twith open(filePath, 'r+') as f:\n\t\tdata = f.readlines()\n\t\tf.seek(0)\n\t\tfor (line_number,line) in enumerate(data,start=1):\n\t\t\ttry:\n\t\t\t\tf.write((str(line_number).rjust(6)+line))\n\t\t\texcept UnicodeDecodeError:\n\t\t\t\tf.write((str(line_number).rjust(6)+line.decode('latin1')))\n\t\tf.truncate()\n\n\n\ndef s3Credentials():\n\ts3 = boto3.client('s3')\n\treturn s3\n\ndef downloadFromS3(s3,bucket,key):\n\tpaginator = s3.get_paginator('list_objects')\n\tpages = paginator.paginate(Bucket=bucket, Prefix=key)\n\tfiles_downloaded = []\n\tfor page in pages:\n\t\tfor obj in page['Contents']:\n\t\t\tif re.findall(r'\\b(?!coastal)(?!.*pgp)ACHRET_?(ASP_)?${current_year}${current_month}${current_day}_?(\\w|\\W)?.(ACH|ach)?', obj['Key']):\n\t\t\t\tpath,filename = os.path.split(obj['Key'])\n\t\t\t\ts3.download_file(bucket,obj['Key'],filename)\n\t\t\t\tfiles_downloaded.append(filename)\n\treturn files_downloaded\n\ndef UploadToS3(s3, filename, bucket, key):\n\t\"\"\"Uploads file to S3\n\tBucket is the main bucket\n\tKey is the path where you want the file to be uploaded to\n\tEx bucket=bucket-name\n\tkey=foo/bucket/folder\"\"\"\n\ts3.upload_file(filename,bucket,key)\n\ndef getBucketAndKeyS3(s3url):\n\tbucket_path = urlparse(s3url)\n\treturn bucket_path.netloc, bucket_path.path.lstrip('/')\n  \ndef update_grid_variables(list_of_items, grid_variable_name):\n\tnew_list = [[items] for items in list_of_items]\n\tcontext.updateGridVariable(grid_variable_name, new_list)\n\n\nif __name__ == \"__main__\":\n\tcreds = s3Credentials()\n\t#Matillion job variables\n\tfile_bucket,file_key = getBucketAndKeyS3('${parsed_file_path}')\n\tdownloaded_file_names = downloadFromS3(creds, file_bucket,file_key)\n\tprint(downloaded_file_names)\n\tupdate_grid_variables(downloaded_file_names, 'file_name_list')\n\n\tfor file_names in downloaded_file_names:\n\t\treplace_new_lines(file_names)\n\t\taddNewLine(file_names,94,'\\n')\n\t\taddLineNumber(file_names)\n\t\tUploadToS3(creds, file_names, file_bucket,os.path.join(file_key,file_names))\n\t\tos.remove(file_names)\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968253":{"id":2968253,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-608,"y":-48,"width":32,"height":32,"inputConnectorIDs":[2968296],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update RAW ACH table"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"delete from rdl.raw_ach_return_data\nwhere file_date = to_date('${current_year}-${current_month}-${current_day}','YY-MM-DD')\n;\n\ninsert into rdl.raw_ach_return_data(file_date, addenda_type_code, return_reason_code, original_entry_trace_number, date_of_death, original_receiving_dfi_identification, addenda_information, trace_number)\nselect to_date('${current_year}-${current_month}-${current_day}','YY-MM-DD'), addenda_type_code, return_reason_code, original_entry_trace_number, date_of_death, original_receiving_dfi_identification, addenda_information, trace_number\nfrom etl.ach_return_addenda_record\n;\n\ndelete from rdl.ach_return_entry_detail\nwhere file_date = to_date('${current_year}-${current_month}-${current_day}','YY-MM-DD')\n;\n\ninsert into rdl.ach_return_entry_detail(file_date, record_type_code, transaction_code, receiving_dfi_identification, check_digit, dfi_account_number, amount, individual_identification_number__identification_number__check_serial_number,\tindividual_name__receiving_company_name, discretionary_data__payment_type_code__card_transaction_type_code,\taddenda_record_indicator, trace_number)\nselect to_date('${current_year}-${current_month}-${current_day}','YY-MM-DD'), record_type_code, transaction_code, receiving_dfi_identification, check_digit, dfi_account_number, amount, individual_identification_number__identification_number__check_serial_number, individual_name__receiving_company_name,\tdiscretionary_data__payment_type_code__card_transaction_type_code, addenda_record_indicator, trace_number\nfrom etl.ach_return_entry_detail_staging\n;\n\ndelete from rdl.ach_return_batch_header\nwhere file_date = to_date('${current_year}-${current_month}-${current_day}','YY-MM-DD')\n;\n\ninsert into rdl.ach_return_batch_header(file_date, service_class_code, company_name, company_discretionary_data, company_identification, standard_entry_class_code, company_entry_description, company_descriptive_date, effective_entry_date, settlement_date_julian, originator_status_code, originating_dfi_identification, batch_number)\nselect to_date('${current_year}-${current_month}-${current_day}','YY-MM-DD'), service_class_code, company_name, company_discretionary_data, company_identification, standard_entry_class_code, company_entry_description, company_descriptive_date, effective_entry_date, settlement_date_julian, originator_status_code, originating_dfi_identification, batch_number\nfrom etl.ach_return_batch_header_staging\n;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968254":{"id":2968254,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-1536,"y":-48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ach_return_file_load_daily 0"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ach_return_file_load_daily"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"file_name"},"2":{"slot":2,"type":"STRING","value":"${file_names}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"current_day"},"2":{"slot":2,"type":"STRING","value":"${current_day}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"current_month"},"2":{"slot":2,"type":"STRING","value":"${current_month}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"current_year"},"2":{"slot":2,"type":"STRING","value":"${current_year}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[2968298]},"2968255":{"id":2968255,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":-1536,"y":-48,"width":32,"height":16,"inputConnectorIDs":[2968297],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"load each ach return file"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"file_name_list"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"file_names"},"2":{"slot":2,"type":"STRING","value":"file_names"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[2968298],"inputIterationConnectorIDs":[]}},"successConnectors":{"2968251":{"id":2968251,"sourceID":2968208,"targetID":2968211},"2968296":{"id":2968296,"sourceID":2968210,"targetID":2968253},"2968297":{"id":2968297,"sourceID":2968252,"targetID":2968255},"2968300":{"id":2968300,"sourceID":2968211,"targetID":2968210}},"failureConnectors":{},"unconditionalConnectors":{"2968299":{"id":2968299,"sourceID":2968209,"targetID":2968252}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"2968298":{"id":2968298,"sourceID":2968255,"targetID":2968254}},"noteConnectors":{},"notes":{},"variables":{"current_day":{"definition":{"name":"current_day","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"26"},"current_month":{"definition":{"name":"current_month","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"06"},"current_year":{"definition":{"name":"current_year","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2018"},"file_names":{"definition":{"name":"file_names","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"file_staging_path":{"definition":{"name":"file_staging_path","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"s3://aspiration-etl-staging/file_processing/ach"},"file_staging_table_name":{"definition":{"name":"file_staging_table_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ach_file_staging"},"file_staging_table_name_returns":{"definition":{"name":"file_staging_table_name_returns","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"ach_return_file_staging"},"parsed_file_path":{"definition":{"name":"parsed_file_path","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"s3://aspiration-etl-staging/file_processing/ach/coastal_file_drop"},"s3_file_path":{"definition":{"name":"s3_file_path","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2018/11"},"s3_filename":{"definition":{"name":"s3_filename","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"test_20181112.csv"}},"grids":{"ach_return_table_list":{"definition":{"name":"ach_return_table_list","scope":"BRANCH","definitions":[{"name":"table_name","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["ach_return_file_staging"]},{"values":["ach_return_file_header_staging"]},{"values":["ach_return_batch_header_staging"]},{"values":["ach_return_entry_detail_staging"]},{"values":["ach_return_batch_control_staging"]},{"values":["ach_return_file_control_staging"]},{"values":["ach_return_addenda_record"]}]},"ach_table_list":{"definition":{"name":"ach_table_list","scope":"BRANCH","definitions":[{"name":"table_name","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["ach_return_file_staging"]},{"values":["ach_return_file_header_staging"]},{"values":["ach_return_batch_header_staging"]},{"values":["ach_return_entry_detail_staging"]},{"values":["ach_return_batch_control_staging"]},{"values":["ach_return_file_control_staging"]}]},"file_name_list":{"definition":{"name":"file_name_list","scope":"BRANCH","definitions":[{"name":"file_names","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]}}},"info":{"name":"ach_return_file_parser_daily","description":"","type":"ORCHESTRATION","tag":"7bb3551a-aaf8-465c-baf5-1adbe3d990cc"}}