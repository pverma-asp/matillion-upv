{"job":{"components":{"2968001":{"id":2968001,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-256,"y":0,"width":32,"height":32,"inputConnectorIDs":[2968002],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2968029],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Variables"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nimport datetime\n\n#add run_history_id to create a unique temp table for parrallel processing\n#context.updateVariable(\"staging_table\", staging_table + str(run_history_id))\n#context.updateVariable(\"batch_filename\", batch_filename + datetime.date.today().strftime('%Y') + datetime.date.today().strftime('%m') + datetime.date.today().strftime('%d') + str(run_history_id) + '.txt')\nfulldate = datetime.datetime.now().strftime('%Y%m%d')\ncontext.updateVariable(\"output_file_year\", fulldate[0:4])\ncontext.updateVariable(\"output_file_month\", fulldate[4:6])\ncontext.updateVariable(\"output_file_day\", fulldate[6:8])\ncontext.updateVariable(\"output_file_name\", output_file_prefix + output_file_year + output_file_month + output_file_day + output_file_suffix)\nprint(\"Full:   \" + fulldate)\nprint(\"Year:   \" + output_file_year)\nprint(\"Month:      \" + output_file_month)\nprint(\"Day:          \" + output_file_day)\nprint(\"Filename: \" + output_file_name)\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968004":{"id":2968004,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-384,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2968002],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Start","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968005":{"id":2968005,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":64,"y":0,"width":32,"height":32,"inputConnectorIDs":[2968003],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of end success"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968006":{"id":2968006,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":-96,"y":128,"width":32,"height":32,"inputConnectorIDs":[2968028],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Send Alert to Pager Duty - CPT1"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"us-west-2"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data-alerts-pagerduty-prod"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"Manual_ACH_Rejections_Hist\" job failed"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2968007":{"id":2968007,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-96,"y":0,"width":32,"height":32,"inputConnectorIDs":[2968029],"outputSuccessConnectorIDs":[2968003],"outputFailureConnectorIDs":[2968028],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Manual_ACH_Rejections_Hist"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"insert into UFRUADTEAM.ACH_REJECTION_BACKUP_HIST\nselect b.*,  CURRENT_TIMESTAMP as etl_load_date \nfrom \"MANUAL_ACH_REJECTION\".\"MAR\".\"ACH_REJECTION_BACKUP\" b;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2968003":{"id":2968003,"sourceID":2968007,"targetID":2968005}},"failureConnectors":{"2968028":{"id":2968028,"sourceID":2968007,"targetID":2968006}},"unconditionalConnectors":{"2968002":{"id":2968002,"sourceID":2968004,"targetID":2968001},"2968029":{"id":2968029,"sourceID":2968001,"targetID":2968007}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{"output_file_day":{"definition":{"name":"output_file_day","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"25"},"output_file_month":{"definition":{"name":"output_file_month","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"05"},"output_file_name":{"definition":{"name":"output_file_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"python calculated"},"output_file_prefix":{"definition":{"name":"output_file_prefix","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"rejections_current_"},"output_file_suffix":{"definition":{"name":"output_file_suffix","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":".csv"},"output_file_year":{"definition":{"name":"output_file_year","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2022"}},"grids":{}},"info":{"name":"Manual_ACH_Rejections_Hist","description":"","type":"ORCHESTRATION","tag":"6df8f9ef-79c8-4d61-aa83-fc8cc79ee6db"}}