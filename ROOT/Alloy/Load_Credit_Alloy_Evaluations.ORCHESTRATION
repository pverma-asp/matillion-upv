{"job":{"components":{"2961601":{"id":2961601,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-832,"y":-128,"width":32,"height":32,"inputConnectorIDs":[2961629],"outputSuccessConnectorIDs":[2961603],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"populate flattened staging table"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DROP table etl.CREDIT_ALLOY_EVALUATIONS_FLATTENED_STAGING;\n\ncreate table etl.CREDIT_ALLOY_EVALUATIONS_FLATTENED_STAGING as\nselect \nEVALUATION_TOKEN,\nRESULT,\nUSER_PRODUCT_APPLICATION_ID,\nCREATED_AT,\nOUTCOME,\nALLOY_ENTITY_TOKEN,\nWORKFLOW,\nALLOY_TIMESTAMP,\nETL_LOAD_DATE,\nalloy_response ,\nRAW_ALLOY_RESPONSE_BODY,\nalloy_response:application_version_id as application_version_id, \nreplace(alloy_response:entity_token, '\"') as entity_token,\nalloy_response:error as error, \nreplace(alloy_response:evaluation_token, '\"') as alloy_evaluation_token, \nalloy_response:status_code as status_code,\nalloy_response:summary:alloy_fraud_score as alloy_fraud_score, \nalloy_response:summary:models:annual_fee_cents as annual_fee_cents, \nalloy_response:summary:models:apr as apr,\nalloy_response:summary:models:credit_line_assignment_usd as credit_line_assignment_usd, \nalloy_response:summary:models:frozen_file as frozen_file, \nalloy_response:summary:models:revolving_ratio as revolving_ratio,\nreplace(alloy_response:summary:outcome, '\"') as alloy_outcome,\nreplace(replace(alloy_response:summary:outcome_reasons, '['), ']') as outcome_reasons,\nreplace(alloy_response:summary:result, '\"') as alloy_result,\nreplace(alloy_response:summary:score, '\"') as score,\nreplace(alloy_response:summary:services:Emailage, '\"') as Emailage,\nreplace(alloy_response:summary:services:Experian, '\"') as Experian,\nreplace(alloy_response:summary:services:Socure, '\"') as Socure,\nreplace(alloy_response:summary:services:\"White Pages Pro\", '\"') as \"White Pages Pro\",\nalloy_response:summary:tags as CREDIT_ALLOY_SUMMARY_TAGS,\nreplace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']') as tags,\nsplit_part(replace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']'),',', 1) as tag1,\nsplit_part(replace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']'),',', 2) as tag2,\nsplit_part(replace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']'),',', 3) as tag3,\nsplit_part(replace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']'),',', 4) as tag4,\nsplit_part(replace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']'),',', 5) as tag5,\nsplit_part(replace(replace(replace(alloy_response:summary:tags, '\"'), '['), ']'),',', 6) as tag6,\nreplace(alloy_response:supplied:address_city, '\"') as address_city,\nreplace(alloy_response:supplied:address_country_code, '\"') as address_country_code,\nreplace(alloy_response:supplied:address_line_1, '\"') as address_line_1,\nreplace(alloy_response:supplied:address_postal_code, '\"') as address_postal_code,\nreplace(alloy_response:supplied:address_state, '\"') as address_state,\nreplace(alloy_response:supplied:birth_date, '\"') as birth_date,\nreplace(alloy_response:supplied:document_ssn, '\"') as document_ssn,\nreplace(alloy_response:supplied:email_address, '\"') as email_address,\nreplace(alloy_response:supplied:ip_address_v4, '\"') as ip_address_v4,\nalloy_response:supplied:meta:income as income,\nalloy_response:supplied:meta:onfido_auto_approve_eligible as onfido_auto_approve_eligible,\nalloy_response:supplied:meta:onfido_check_raw_body as onfido_check_raw_body,\nreplace(alloy_response:supplied:meta:onfido_check_result, '\"') as onfido_check_result,\nalloy_response:supplied:meta:previous_alloy_response as previous_alloy_response,\nreplace(alloy_response:supplied:name_first, '\"') as name_first,\nreplace(alloy_response:supplied:name_last, '\"') as name_last,\nreplace(alloy_response:supplied:phone_number, '\"') as phone_number,\nalloy_response:timestamp as timestamp,\nreplace(RAW_ALLOY_RESPONSE_BODY:formatted:age, '\"') as age,\ncoalesce(RAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\":data:idScore,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:data:models:\"V3\":score) as credit_Score,\n\nreplace(RAW_ALLOY_RESPONSE_BODY:application_token, '\"') as application_token,\n\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:delinquencies:\"charge-off\":amount as charge_off_amount,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:delinquencies:\"charge-off\":count as charge_off_count,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:derogatory_marks:bankruptcies as bankruptcies,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:derogatory_marks:collection_amount as collection_amount,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:derogatory_marks:foreclosures as foreclosures,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:derogatory_marks:repossessions as repossessions,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:derogatory_marks:tax_liens as tax_liens,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:inquiries:\"3_month\" as \"3_month_inquiry\" ,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:inquiries:\"6_month\" as \"6_month_inquiry\",\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:average_monthly_revolving_balance as average_monthly_revolving_balance,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:balance_owed as balance_owed,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:balance_past_due as balance_past_due,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:installment_balance as installment_balance,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:monthly_loans_payments as monthly_loans_payments,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:monthly_mortgage as monthly_mortgage,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:monthly_rent as monthly_rent,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:real_estate_balance as real_estate_balance,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:liabilities:revolving_balance as revolving_balance,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:data:paid_accounts as paid_accounts,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:data:satisfactory_accounts as satisfactory_accounts,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:Experian:data:tradeline_count as tradeline_count,\n\n--Iovation data columns----------\nRAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation  as Iovation_raw,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.alias\", '\"') as Iovation_device_alias,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.bb.age\", '\"') as Iovation_device_bb_age,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.bb.timestamp\", '\"') as Iovation_device_bb_timestamp,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.browser.configuredlang\", '\"') as Iovation_device_browser_configuredlang,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.browser.lang\", '\"') as Iovation_device_browser_lang,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.browser.type\", '\"') as Iovation_device_browser_type,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.browser.version\", '\"') as Iovation_device_browser_version,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.cookie.enabled\", '\"') as Iovation_device_cookie_enabled,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.firstseen\", '\"') as Iovation_device_firstseen,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.flash.enabled\", '\"') as Iovation_device_flash_enabled,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.flash.installed\", '\"') as Iovation_device_flash_installed,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.flash.storage.enabled\", '\"') as Iovation_device_flash_storage_enabled,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.flash.version\", '\"') as Iovation_device_flash_version,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.js.enabled\", '\"') as Iovation_device_js_enabled,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.new\", '\"') as Iovation_device_new,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.os\", '\"') as Iovation_device_os,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.screen\", '\"') as Iovation_device_screen,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.type\", '\"') as Iovation_device_type,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"device.tz\", '\"') as Iovation_device_tz,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress\", '\"') as Iovation_ipaddress, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.isp\", '\"') as Iovation_ipaddress_isp, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.loc.city\", '\"') as Iovation_ipaddress_loc_city, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.loc.country\", '\"') as Iovation_ipaddress_loc_country, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.loc.countrycode\", '\"') as Iovation_ipaddress_loc_countrycode, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.loc.lat\", '\"') as Iovation_ipaddress_loc_lat, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.loc.lng\", '\"') as Iovation_ipaddress_loc_lng, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.loc.region\", '\"') as Iovation_ipaddress_loc_region, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"ipaddress.org\", '\"') as Iovation_ipaddress_org, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"mlvalue1\", '\"') as Iovation_mlvalue1,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress\", '\"') as Iovation_realipaddress,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.isp\", '\"') as Iovation_realipaddress_isp, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.loc.city\", '\"') as Iovation_realipaddress_loc_city, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.loc.country\", '\"') as Iovation_realipaddress_loc_country,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.loc.countrycode\", '\"') as Iovation_realipaddress_loc_countrycode, \nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.loc.lat\", '\"') as Iovation_realipaddress_loc_lat,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.loc.lng\", '\"') as Iovation_realipaddress_loc_lng,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.loc.region\", '\"') as Iovation_realipaddress_loc_region,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.org\", '\"') as Iovation_realipaddress_org,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:\"realipaddress.source\", '\"') as Iovation_realipaddress_source,\nreplace(RAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:reason, '\"') as Iovation_reason,\nRAW_ALLOY_RESPONSE_BODY:raw_responses:Iovation[0]:rules as Iovation_rules,\n\nRAW_ALLOY_RESPONSE_BODY:summary:services:Iovation::TEXT AS summary_services_iovation,\nRAW_ALLOY_RESPONSE_BODY:summary:services:\"ID Analytics ID Score\"::TEXT AS summary_services_id_analytics_id_score,\nRAW_ALLOY_RESPONSE_BODY:raw_responses:\"Socure 30\"::VARIANT AS raw_responses_socure_30,\nRAW_ALLOY_RESPONSE_BODY:raw_responses:\"ID Analytics ID Score\"::VARIANT AS raw_responses_id_analytics_id_score,\n\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:summary:services:\"Socure 30\"::TEXT AS meta_previous_alloy_response_summary_services_socure_30,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:formatted_responses:\"Socure 30\":matching:phone::VARIANT AS meta_previous_alloy_response_formatted_responses_socure_30_matching_phone,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:formatted_responses:\"Socure 30\":matching:email::VARIANT AS meta_previous_alloy_response_formatted_responses_socure_30_matching_email,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:formatted_responses:\"Socure 30\":matching:name::VARIANT AS meta_previous_alloy_response_formatted_responses_socure_30_matching_name,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:diligence:fraud:sources:\"ID Analytics ID Score\"::VARIANT AS meta_previous_alloy_response_diligence_fraud_sources_id_analytics_id_score,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:raw_responses:Iovation::VARIANT AS meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_raw_responses_iovation,\nRAW_ALLOY_RESPONSE_BODY:supplied:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:meta:previous_alloy_response:formatted_responses:Iovation:data:score_number::TEXT AS supplied_meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_meta_previous_alloy_response_formatted_responses_iovation_data_score_number,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:meta:previous_alloy_response:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:formatted_responses:Iovation:data:real_ip_country_code::TEXT AS meta_previous_alloy_response_meta_previous_alloy_response_meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_formatted_responses_iovation_data_real_ip_country_code,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:supplied:meta:previous_alloy_response:formatted_responses:Iovation:data:real_ip_country::TEXT AS meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_supplied_meta_previous_alloy_response_formatted_responses_iovation_data_real_ip_country,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:supplied:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:meta:previous_alloy_response:formatted_responses:Iovation:data:longitude_coordinate::TEXT AS meta_previous_alloy_response_supplied_meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_meta_previous_alloy_response_formatted_responses_iovation_data_longitude_coordinate,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:formatted_responses:Iovation:data:latitude_coordinate::TEXT AS meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_formatted_responses_iovation_data_latitude_coordinate,\nRAW_ALLOY_RESPONSE_BODY:meta:previous_alloy_response:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:formatted_responses:Iovation:data::VARIANT AS meta_previous_alloy_response_meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_formatted_responses_iovation_data,\nRAW_ALLOY_RESPONSE_BODY:supplied:meta:previous_alloy_response:meta:previous_alloy_response:meta:previous_alloy_response:supplied:meta:previous_alloy_response:meta:previous_alloy_response:formatted_responses:Iovation::VARIANT AS supplied_meta_previous_alloy_response_meta_previous_alloy_response_meta_previous_alloy_response_supplied_meta_previous_alloy_response_meta_previous_alloy_response_formatted_responses_iovation,\n\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:ssn::VARIANT AS formatted_responses_socure_30_matching_ssn,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:phone:score::TEXT AS formatted_responses_socure_30_matching_phone_score,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:phone:matched::TEXT AS formatted_responses_socure_30_matching_phone_matched,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:phone::VARIANT AS formatted_responses_socure_30_matching_phone,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:name:matched::TEXT AS formatted_responses_socure_30_matching_name_matched,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:name:score::TEXT AS formatted_responses_socure_30_matching_name_score,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:email:matched::TEXT AS formatted_responses_socure_30_matching_email_matched,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:email:score::TEXT AS formatted_responses_socure_30_matching_email_score,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:dob::VARIANT AS formatted_responses_socure_30_matching_dob,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:dob:matched::TEXT AS formatted_responses_socure_30_matching_dob_matched,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:dob:score::TEXT AS formatted_responses_socure_30_matching_dob_score,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:address::VARIANT AS formatted_responses_socure_30_matching_address,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:address:matched::TEXT AS formatted_responses_socure_30_matching_address_matched,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching:address:score::TEXT AS formatted_responses_socure_30_matching_address_score,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":matching::VARIANT AS formatted_responses_socure_30_matching,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists::VARIANT AS formatted_responses_socure_30_data_watchlists,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:adverseMedia::TEXT AS formatted_responses_socure_30_data_watchlists_adversemedia,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:domesticOFAC::TEXT AS formatted_responses_socure_30_data_watchlists_domesticofac,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:domesticPEP::TEXT AS formatted_responses_socure_30_data_watchlists_domesticpep,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:enforcement::TEXT AS formatted_responses_socure_30_data_watchlists_enforcement,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:internationalOFAC::TEXT AS formatted_responses_socure_30_data_watchlists_internationalofac,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:internationalPEP::TEXT AS formatted_responses_socure_30_data_watchlists_internationalpep,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:watchLists:ofac::TEXT AS formatted_responses_socure_30_data_watchlists_ofac,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:reasonCodes::VARIANT AS formatted_responses_socure_30_data_reasoncodes,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation::VARIANT AS formatted_responses_socure_30_data_kycvalidation,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:city::TEXT AS formatted_responses_socure_30_data_kycvalidation_city,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:dob::TEXT AS formatted_responses_socure_30_data_kycvalidation_dob,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:firstName::TEXT AS formatted_responses_socure_30_data_kycvalidation_firstname,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:mobileNumber::TEXT AS formatted_responses_socure_30_data_kycvalidation_mobilenumber,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:ssn::TEXT AS formatted_responses_socure_30_data_kycvalidation_ssn,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:state::TEXT AS formatted_responses_socure_30_data_kycvalidation_state,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:streetAddress::TEXT AS formatted_responses_socure_30_data_kycvalidation_streetaddress,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:surName::TEXT AS formatted_responses_socure_30_data_kycvalidation_surname,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:kycValidation:zip::TEXT AS formatted_responses_socure_30_data_kycvalidation_zip,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:fraudScores::VARIANT AS formatted_responses_socure_30_data_fraudscores,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:fraudScores:generic::TEXT AS formatted_responses_socure_30_data_fraudscores_generic,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:fraudScores:sigma::TEXT AS formatted_responses_socure_30_data_fraudscores_sigma,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:fraudScores:sigmaSynthetic::TEXT AS formatted_responses_socure_30_data_fraudscores_sigmasynthetic,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\"::VARIANT AS formatted_responses_socure_30,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data::VARIANT AS formatted_responses_socure_30_data,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:error_message::TEXT AS formatted_responses_socure_30_data_error_message,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"Socure 30\":data:error_message_type_2::TEXT AS formatted_responses_socure_30_data_error_message_type_2,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\"::VARIANT AS formatted_responses_id_analytics_id_score,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\":data::VARIANT AS formatted_responses_id_analytics_id_score_data,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\":data:consumerStatement::TEXT AS formatted_responses_id_analytics_id_score_data_consumerstatement,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\":data:idScore::TEXT AS formatted_responses_id_analytics_id_score_data_idscore,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\":data:reason_codes::VARIANT AS formatted_responses_id_analytics_id_score_data_reason_codes,\nRAW_ALLOY_RESPONSE_BODY:formatted_responses:\"ID Analytics ID Score\":matching::VARIANT AS formatted_responses_id_analytics_id_score_matching,\n\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"ID Analytics ID Score\"::VARIANT AS diligence_fraud_sources_id_analytics_id_score,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"ID Analytics ID Score\":attribute::TEXT AS diligence_fraud_sources_id_analytics_id_score_attribute,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"ID Analytics ID Score\":normalized_score::TEXT AS diligence_fraud_sources_id_analytics_id_score_normalized_score,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"ID Analytics ID Score\":raw_score::TEXT AS diligence_fraud_sources_id_analytics_id_score_raw_score,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"Socure 30\"::VARIANT AS diligence_fraud_sources_socure_30,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"Socure 30\":attribute::TEXT AS diligence_fraud_sources_socure_30_attribute,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"Socure 30\":normalized_score::TEXT AS diligence_fraud_sources_socure_30_normalized_score,\nRAW_ALLOY_RESPONSE_BODY:diligence:fraud:sources:\"Socure 30\":raw_score::TEXT AS diligence_fraud_sources_socure_30_raw_score\n\nfrom etl.CREDIT_ALLOY_EVALUATIONS_STAGING;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2961604":{"id":2961604,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":716056355,"x":-528,"y":-128,"width":32,"height":32,"inputConnectorIDs":[2961602],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"move delta data"}}}},"visible":true},"2":{"slot":2,"name":"","elements":{},"visible":false},"3":{"slot":3,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"postgresql"}}}},"visible":true},"4":{"slot":4,"name":"RDS Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432"}}}},"visible":true},"5":{"slot":5,"name":"Database Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"account_approval_db"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data_readonly"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"data_readonly"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT\n    EVALUATION_TOKEN,\n\tRESULT,\n\tUSER_PRODUCT_APPLICATION_ID,\n\tCREATED_AT,\n\talloy_response,\n\tOUTCOME,\n\tALLOY_ENTITY_TOKEN,\n\tWORKFLOW,\n\tALLOY_TIMESTAMP,\n    raw_alloy_response_body,\n\tcurrent_timestamp AS ETL_LOAD_DATE\nFROM public.CREDIT_ALLOY_EVALUATION\nwhere created_at::date >= NOW()::date - 1;\n\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"11":{"slot":11,"name":"JDBC Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ssl"},"2":{"slot":2,"type":"STRING","value":"true"}}}},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":true},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ETL"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREDIT_ALLOY_EVALUATIONS_STAGING"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"aspiration-etl-staging"}}}},"visible":true},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SSE KMS"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${kms_s3_key}"}}}},"visible":true},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2961605":{"id":2961605,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-1008,"y":-128,"width":32,"height":32,"inputConnectorIDs":[2961628],"outputSuccessConnectorIDs":[2961629],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"evaluations staging table"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"drop table if exists etl.CREDIT_ALLOY_EVALUATIONS_STAGING;\ncreate table etl.CREDIT_ALLOY_EVALUATIONS_STAGING\n(\n\tEVALUATION_TOKEN VARCHAR(16777216),\n\tRESULT VARCHAR(16777216),\n\tUSER_PRODUCT_APPLICATION_ID NUMBER,\n\tCREATED_AT TIMESTAMP_NTZ(9),\n\talloy_response variant,\n\tOUTCOME VARCHAR(16777216),\n\tALLOY_ENTITY_TOKEN VARCHAR(16777216),\n\tWORKFLOW VARCHAR(16777216),\n\tALLOY_TIMESTAMP NUMBER(19,0),\n    raw_alloy_response_body variant,\n    ETL_LOAD_DATE TIMESTAMP_NTZ(9)\n);\n\n\ninsert into etl.CREDIT_ALLOY_EVALUATIONS_STAGING\nSELECT EVALUATION_TOKEN,\n\tRESULT,\n\tUSER_PRODUCT_APPLICATION_ID,\n\tCREATED_AT,\n\talloy_response,\n\tOUTCOME,\n\tALLOY_ENTITY_TOKEN,\n\tWORKFLOW,\n\tALLOY_TIMESTAMP,\n    raw_alloy_response_body,\n    current_timestamp AS ETL_LOAD_DATE\nFROM aa_db.CREDIT_ALLOY_EVALUATION\nwhere CREATED_AT::date >= current_date-1;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2961606":{"id":2961606,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-672,"y":-128,"width":32,"height":32,"inputConnectorIDs":[2961603],"outputSuccessConnectorIDs":[2961602],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"populate flattened prod table"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"delete from rdl.credit_alloy_evaluations_flattened a\n  using etl.CREDIT_ALLOY_EVALUATIONS_FLATTENED_STAGING b\n  where a.EVALUATION_TOKEN = b.EVALUATION_TOKEN\n  ;\n\n\ninsert into rdl.credit_alloy_evaluations_flattened \nselect * from etl.CREDIT_ALLOY_EVALUATIONS_FLATTENED_STAGING\n;\n\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2961607":{"id":2961607,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-1184,"y":-128,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2961628],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"start"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2961602":{"id":2961602,"sourceID":2961606,"targetID":2961604},"2961603":{"id":2961603,"sourceID":2961601,"targetID":2961606},"2961629":{"id":2961629,"sourceID":2961605,"targetID":2961601}},"failureConnectors":{},"unconditionalConnectors":{"2961628":{"id":2961628,"sourceID":2961607,"targetID":2961605}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{"db_name":{"definition":{"name":"db_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"web_db"},"pk_cols":{"definition":{"name":"pk_cols","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"(id)"},"rds_endpoint":{"definition":{"name":"rds_endpoint","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432"},"source_schema":{"definition":{"name":"source_schema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"public"},"table_name":{"definition":{"name":"table_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"account"},"table_schema":{"definition":{"name":"table_schema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"web_db"},"update_column_name":{"definition":{"name":"update_column_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"last_updated"}},"grids":{}},"info":{"name":"Load_Credit_Alloy_Evaluations","description":"","type":"ORCHESTRATION","tag":"ee558931-b073-499e-864c-ba2fd65e256d"}}