{"job":{"components":{"2958260":{"id":2958260,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":32,"y":256,"width":32,"height":32,"inputConnectorIDs":[2958281,2958286,2958287],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2958258],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958261":{"id":2958261,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":32,"y":368,"width":32,"height":32,"inputConnectorIDs":[2958258],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of SNS Message 0"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"us-west-2"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data-alerts-pagerduty-prod"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"step 2 failed"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958262":{"id":2958262,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":374945314,"x":-368,"y":80,"width":32,"height":32,"inputConnectorIDs":[2958285],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of S3 Unload 0"}}}},"visible":true},"4":{"slot":4,"name":"S3 Object Prefix","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pwif_20190805_"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"public"}}}},"visible":true},"8":{"slot":8,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pwif_20190805"}}}},"visible":true},"20":{"slot":20,"name":"Include Header","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"21":{"slot":21,"name":"Compression Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"GZIP"}}}},"visible":false},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"140":{"slot":140,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SSE S3"}}}},"visible":true},"142":{"slot":142,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958263":{"id":2958263,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":716056355,"x":-256,"y":144,"width":32,"height":32,"inputConnectorIDs":[2958259],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Get web_db tables without delta support"}}}},"visible":true},"2":{"slot":2,"name":"","elements":{},"visible":false},"3":{"slot":3,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"postgresql"}}}},"visible":true},"4":{"slot":4,"name":"RDS Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432"}}}},"visible":true},"5":{"slot":5,"name":"Database Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"web_db"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data_readonly"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dA3j3RWFpzzo38LL"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT 'web_db' AS DB_NAME,\n\t'web_db' AS TABLE_SCHEMA, \n    TABLE_NAME,\n\n\t(\n\t\tSELECT string_agg(c.COLUMN_NAME, ',') \n\t\tFROM INFORMATION_SCHEMA.COLUMNS c\n\t\tWHERE 1=1\n\t\t \t AND c.data_type != 'json'\n\t\t \t AND c.data_type != 'jsonb'\n\t\t \t AND c.COLUMN_NAME NOT ILIKE '%tax_identification_number%'\n\t\t     AND c.TABLE_SCHEMA = TABLES.TABLE_SCHEMA\n\t\t     AND c.TABLE_NAME = TABLES.TABLE_NAME   \n\t\tGROUP BY c.TABLE_NAME\n\t) as column_list\n\nFROM INFORMATION_SCHEMA.TABLES\nWHERE 1=1\n  AND TABLE_TYPE = 'BASE TABLE'\n  AND TABLE_SCHEMA = 'public'\n  AND TABLE_NAME NOT ILIKE '%journal%'\n  AND TABLE_NAME NOT ILIKE 'dt_%'\n  AND TABLE_NAME NOT IN ('jellyfish_event_log')\n--   AND TABLE_NAME IN ('cashback_posted_transaction')\n--  AND TABLE_NAME IN ('_user', 'user_email', 'user_account', 'account', 'depository', 'investment', 'user_payment_account')\n  AND NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS c WHERE c.TABLE_SCHEMA = TABLES.TABLE_SCHEMA AND c.TABLE_NAME = TABLES.TABLE_NAME AND c.COLUMN_NAME ILIKE 'last_updated')\nUNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_input_fraud_users' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_utm_mapping' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_external_user_ids' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_nps_scores' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_marketing_spend' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_input_radius_accounts' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_churn_score' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'dt_utm_fields_master' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'user_cohorts' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'user_profile' AS TABLE_NAME, 'user_id,version,address_id,date_created,date_of_birth,first_name,gender_type,is_phone_validated,last_name,last_updated,last_user_agreement,middle_name,phone_number,tax_identification_type,profile_image_id,tin_secret_id,gender_type_other,mailing_address_id' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'user_product_application' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'depository' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'cma_migration' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'joint_account_invitation' AS TABLE_NAME, '*' AS column_list UNION ALL\nSELECT 'web_db' AS DB_NAME, 'web_db' AS TABLE_SCHEMA, 'cashback_posted_transaction' AS TABLE_NAME, 'id,posted_transaction_id,amount,date,date_created,last_updated,cashback_tier_id' AS column_list\nORDER BY TABLE_NAME\n"}}}},"visible":false},"11":{"slot":11,"name":"JDBC Options","elements":{},"visible":true},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"rdl"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"galileo_pending_transactions"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"aspiration-etl-staging"}}}},"visible":true},"18":{"slot":18,"name":"Primary Key","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"public"}}}},"visible":true},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Basic"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"galileo_pending_transaction"}}}},"visible":true},"103":{"slot":103,"name":"Data Selection","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"id"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"amount"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"description"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"txn_date"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"txn_type"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"prn"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"txn_id"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"auth_id"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"galileo_account_id"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"act_type"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"date_created"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"last_updated"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"raw_body"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"network"}}}},"visible":true},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":true},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SSE KMS"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${kms_s3_key}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958264":{"id":2958264,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":773867971,"x":-144,"y":0,"width":32,"height":32,"inputConnectorIDs":[2958256],"outputSuccessConnectorIDs":[2958257],"outputFailureConnectorIDs":[2958281],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"S3 Load 0"}}}},"visible":true},"4":{"slot":4,"name":"S3 Object Prefix","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"8":{"slot":8,"name":"Target Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"transactions_cleaned"}}}},"visible":true},"9":{"slot":9,"name":"Load Columns","elements":{},"visible":true},"23":{"slot":23,"name":"Date Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"auto"}}}},"visible":true},"24":{"slot":24,"name":"Time Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"auto"}}}},"visible":true},"26":{"slot":26,"name":"","elements":{},"visible":false},"27":{"slot":27,"name":"Escape","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958265":{"id":2958265,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-256,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2958256,2958259,2958285],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958266":{"id":2958266,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":171,"y":55,"width":32,"height":32,"inputConnectorIDs":[2958284],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[2958286],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"test_google_sheet 0"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"test_google_sheet"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2958267":{"id":2958267,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":16,"y":48,"width":32,"height":32,"inputConnectorIDs":[2958257],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[2958287],"outputUnconditionalConnectorIDs":[2958284],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"test_google_sheet"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"test_google_sheet"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2958257":{"id":2958257,"sourceID":2958264,"targetID":2958267}},"failureConnectors":{"2958281":{"id":2958281,"sourceID":2958264,"targetID":2958260},"2958286":{"id":2958286,"sourceID":2958266,"targetID":2958260},"2958287":{"id":2958287,"sourceID":2958267,"targetID":2958260}},"unconditionalConnectors":{"2958256":{"id":2958256,"sourceID":2958265,"targetID":2958264},"2958258":{"id":2958258,"sourceID":2958260,"targetID":2958261},"2958259":{"id":2958259,"sourceID":2958265,"targetID":2958263},"2958284":{"id":2958284,"sourceID":2958267,"targetID":2958266},"2958285":{"id":2958285,"sourceID":2958265,"targetID":2958262}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{"filepath":{"definition":{"name":"filepath","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""}},"grids":{}},"info":{"name":"testbed","description":null,"type":"ORCHESTRATION","tag":"45f337c1-b2ed-4b80-b530-6b70ffbb0e84"}}