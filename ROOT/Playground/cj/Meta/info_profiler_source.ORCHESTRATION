{"job":{"components":{"2957509":{"id":2957509,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":716056355,"x":-224,"y":0,"width":32,"height":32,"inputConnectorIDs":[2957508],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of load_stg (2)"}}}},"visible":true},"2":{"slot":2,"name":"","elements":{},"visible":false},"3":{"slot":3,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"postgresql"}}}},"visible":true},"4":{"slot":4,"name":"RDS Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${rds_endpoint}"}}}},"visible":true},"5":{"slot":5,"name":"Database Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${db_name}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data_readonly"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dA3j3RWFpzzo38LL"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"INSERT INTO public.ucj_info_profile\nSELECT now()\n     , schema_name\n     , table_name\n     , column_name\n     , sum(1)::VARCHAR AS record_cnt\n     , count(DISTINCT column_value)::VARCHAR AS distinct_cnt\n     , sum(decode(typecheck,'EMPTY',1,0))::VARCHAR AS empty_cnt\n     , sum(decode(empty_vals,'NULL',1))::VARCHAR AS null_cnt\n     , sum(decode(empty_vals,'BLANK',1))::VARCHAR AS blank_cnt\n     , sum(decode(typecheck,'BOOLEAN',1,0))::VARCHAR AS bool_cnt\n     , sum(decode(bool_vals,1,1))::VARCHAR AS yestrue_cnt\n     , sum(decode(bool_vals,0,1))::VARCHAR AS nofalse_cnt\n     , sum(decode(typecheck,'NUMERIC',1,0))::VARCHAR AS num_cnt\n     , max(num_vals)::VARCHAR AS max_val\n     , min(num_vals)::VARCHAR AS min_val\n     , avg(num_vals)::VARCHAR AS avg_val\n     , sum(decode(typecheck,'STRING',1,0))::VARCHAR AS str_cnt\n     , max(length(str_vals))::VARCHAR AS max_len\n     , min(length(str_vals))::VARCHAR AS min_len\n     , avg(length(str_vals))::VARCHAR AS avg_len\nFROM (\n   SELECT '${info_schema}' AS schema_name\n        , '${info_table}' AS table_name\n        , '${info_column}' AS column_name\n        , \"${info_column}\" AS column_value\n        , CASE WHEN regexp_instr(\"${info_column}\",'^[\\\\$\\\\(%\\\\-\\\\+]{0,2}(([0-9]{1,3})(,\\\\d{3})*|\\\\d+)?(\\\\.\\\\d+)?[\\\\)]?$') > 0 THEN 'NUMERIC'\n               WHEN trim(lower(\"${info_column}\")) IN ('true','t','yes','y','false','f','no','n') THEN 'BOOLEAN'\n               WHEN trim(\"${info_column}\") = '' OR \"${info_column}\" IS NULL THEN 'EMPTY'\n               ELSE 'STRING'\n               END::VARCHAR AS typecheck\n        , CASE WHEN regexp_instr(\"${info_column}\",'^[\\\\$\\\\(%\\\\-\\\\+]{0,2}(([0-9]{1,3})(,\\\\d{3})*|\\\\d+)?(\\\\.\\\\d+)?[\\\\)]?$') > 0 THEN regexp_replace(\"${info_column}\",'[^0-9\\\\.]','')\n               END::DECIMAL AS num_vals\n        , CASE WHEN regexp_instr(\"${info_column}\",'^[\\\\$\\\\(%\\\\-\\\\+]{0,2}(([0-9]{1,3})(,\\\\d{3})*|\\\\d+)?(\\\\.\\\\d+)?[\\\\)]?$') > 0 THEN NULL\n               WHEN trim(lower(\"${info_column}\")) IN ('true','t','yes','y') THEN 1\n               WHEN trim(lower(\"${info_column}\")) IN ('false','f','no','n') THEN 0\n               END::BOOLEAN AS bool_vals\n        , CASE WHEN regexp_instr(\"${info_column}\",'^[\\\\$\\\\(%\\\\-\\\\+]{0,2}(([0-9]{1,3})(,\\\\d{3})*|\\\\d+)?(\\\\.\\\\d+)?[\\\\)]?$') > 0 THEN NULL\n               WHEN trim(lower(\"${info_column}\")) IN ('true','t','yes','y','false','f','no','n') THEN NULL\n               WHEN trim(\"${info_column}\") = '' THEN 'BLANK'\n               WHEN \"${info_column}\" IS NULL THEN 'NULL'\n               END::VARCHAR AS empty_vals\n        , CASE WHEN regexp_instr(\"${info_column}\",'^[\\\\$\\\\(%\\\\-\\\\+]{0,2}(([0-9]{1,3})(,\\\\d{3})*|\\\\d+)?(\\\\.\\\\d+)?[\\\\)]?$') > 0 THEN NULL\n               WHEN trim(lower(\"${info_column}\")) IN ('true','t','yes','y','false','f','no','n') THEN NULL\n               WHEN trim(\"${info_column}\") = '' OR \"evaluation_id\" IS NULL THEN NULL\n               ELSE trim(\"${info_column}\")\n               END::VARCHAR AS str_vals\n   FROM \"${db_name}\".public.\"${info_table}\"\n   )\nGROUP BY sysdate\n       , schema_name\n       , table_name\n       , column_name"}}}},"visible":true},"11":{"slot":11,"name":"JDBC Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ssl"},"2":{"slot":2,"type":"STRING","value":"true"}}}},"visible":true},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ucj"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"info_profile"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"aspiration-etl-staging"}}}},"visible":true},"18":{"slot":18,"name":"Primary Key","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"95":{"slot":95,"name":"File Format","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Delimited"}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SSE KMS"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${kms_s3_key}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2957514":{"id":2957514,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-320,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2957508],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{},"failureConnectors":{},"unconditionalConnectors":{"2957508":{"id":2957508,"sourceID":2957514,"targetID":2957509}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{"current_day":{"definition":{"name":"current_day","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"29"},"current_hour":{"definition":{"name":"current_hour","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"12"},"current_month":{"definition":{"name":"current_month","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"03"},"current_year":{"definition":{"name":"current_year","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2019"},"db_name":{"definition":{"name":"db_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"web_db"},"file_staging_path":{"definition":{"name":"file_staging_path","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"s3://aspiration-etl-staging/file_processing/galileo_customer_master_file"},"file_staging_table_name":{"definition":{"name":"file_staging_table_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"galileo_customer_master_file_staging"},"info_column":{"definition":{"name":"info_column","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"evaluation_id"},"info_schema":{"definition":{"name":"info_schema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"rdl"},"info_table":{"definition":{"name":"info_table","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"alloy_evaluations_flattened"},"s3_file_path":{"definition":{"name":"s3_file_path","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2019/04"},"s3_filename":{"definition":{"name":"s3_filename","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"test_20190403.csv"},"s3_filename_prefix":{"definition":{"name":"s3_filename_prefix","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"e8mc2hrzzaww"}},"grids":{"file_dates":{"definition":{"name":"file_dates","scope":"BRANCH","definitions":[{"name":"file_date_year","type":"TEXT"},{"name":"file_date_month","type":"TEXT"},{"name":"file_date_day","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]},"table_list":{"definition":{"name":"table_list","scope":"BRANCH","definitions":[{"name":"table_name","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["galileo_customer_master_file_staging"]},{"values":["galileo_customer_master_file_header_staging"]},{"values":["galileo_customer_master_file_detail_staging"]},{"values":["galileo_customer_master_file_trailer_staging"]}]}}},"info":{"name":"info_profiler_source","description":"","type":"ORCHESTRATION","tag":"1a48ecd7-4368-42f2-bd48-f41563a03257"}}