{"job":{"components":{"2957472":{"id":2957472,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-176,"y":-112,"width":32,"height":32,"inputConnectorIDs":[2957496],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"create_stage"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"/*\nDROP TABLE AOA_DB_STG.ALLOY_EVALUATIONS;\nCREATE TABLE AOA_DB_STG.ALLOY_EVALUATIONS (\n   ID                          NUMBER,\n   EVALUATION_TOKEN            VARCHAR(1000),\n   RESULT_STATUS               VARCHAR(50),\n   USER_PRODUCT_APPLICATION_ID NUMBER,\n   SUBMITTED_AT                TIMESTAMPTZ,\n   ALLOY_ENTITY_ID             NUMBER,\n   CREATED_AT                  TIMESTAMPTZ,\n   UPDATED_AT                  TIMESTAMPTZ,\n   ALLOY_RESULT                VARIANT,\n   ETL_LOAD_DATE               TIMESTAMPTZ\n   );\nDROP TABLE AOA_DB_STG.EVALUATION_REVIEWS;\nCREATE TABLE AOA_DB_STG.EVALUATION_REVIEWS (\n   ID                  VARCHAR(65535),\n   ALLOY_EVALUATION_ID NUMBER,\n   ALLOY_REVIEW        VARIANT,\n   CREATED_AT          TIMESTAMPNTZ,\n   UPDATED_AT          TIMESTAMPNTZ,\n   ETL_LOAD_DATE       TIMESTAMPNTZ\n   );\n   */\nDROP TABLE AOA_DB.ALLOY_EVALUATIONS;\nCREATE TABLE AOA_DB.ALLOY_EVALUATIONS (\n   ID                          NUMBER,\n   EVALUATION_TOKEN            VARCHAR(1000),\n   RESULT_STATUS               VARCHAR(50),\n   USER_PRODUCT_APPLICATION_ID NUMBER,\n   SUBMITTED_AT                TIMESTAMPTZ,\n   ALLOY_ENTITY_ID             NUMBER,\n   CREATED_AT                  TIMESTAMPTZ,\n   UPDATED_AT                  TIMESTAMPTZ,\n   ALLOY_RESULT                VARIANT,\n   ETL_LOAD_DATE               TIMESTAMPTZ\n   );\nDROP TABLE AOA_DB.EVALUATION_REVIEWS;\nCREATE TABLE AOA_DB.EVALUATION_REVIEWS (\n   ID                  VARCHAR(65535),\n   ALLOY_EVALUATION_ID NUMBER,\n   ALLOY_REVIEW        VARIANT,\n   CREATED_AT          TIMESTAMPNTZ,\n   UPDATED_AT          TIMESTAMPNTZ,\n   ETL_LOAD_DATE       TIMESTAMPNTZ\n   );"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2957473":{"id":2957473,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":144,"y":-112,"width":32,"height":16,"inputConnectorIDs":[2957497],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"append_iteration"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"tables_to_refresh"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"server_name"},"2":{"slot":2,"type":"STRING","value":"rds_endpoint"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"source_db"},"2":{"slot":2,"type":"STRING","value":"source_db"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"source_schema"},"2":{"slot":2,"type":"STRING","value":"source_schema"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"source_table"},"2":{"slot":2,"type":"STRING","value":"source_table"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"target_db"},"2":{"slot":2,"type":"STRING","value":"target_db"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"target_schema"},"2":{"slot":2,"type":"STRING","value":"target_schema"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"target_table"},"2":{"slot":2,"type":"STRING","value":"target_table"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"pk_cols"},"2":{"slot":2,"type":"STRING","value":"pk_cols"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"column_list"},"2":{"slot":2,"type":"STRING","value":"column_list"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"update_column_name"},"2":{"slot":2,"type":"STRING","value":"update_column_name"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[2957498],"inputIterationConnectorIDs":[]},"2957475":{"id":2957475,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":716056355,"x":-176,"y":-48,"width":32,"height":32,"inputConnectorIDs":[2957500],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Get account_approval_db tables with delta support"}}}},"visible":true},"2":{"slot":2,"name":"","elements":{},"visible":false},"3":{"slot":3,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"postgresql"}}}},"visible":true},"4":{"slot":4,"name":"RDS Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432"}}}},"visible":true},"5":{"slot":5,"name":"Database Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"account_approval_db"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"data_readonly"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"data_readonly"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WITH column_list \nAS\n(\n    SELECT C.TABLE_NAME, \n    \tstring_agg(c.COLUMN_NAME, ',') AS column_list\n    FROM INFORMATION_SCHEMA.COLUMNS c\n    WHERE 1=1\n\t\tAND c.TABLE_SCHEMA = 'public'\n     \t AND (c.data_type not in ('json','jsonb')\n     \t    or (c.data_type in ('json','jsonb')\n     \t          and c.table_name = 'bank_account_plaid_identity_info'\n     \t          and c.column_name = 'original_plaid_data'))\n     \tAND c.COLUMN_NAME NOT IN ('tax_identification_number')\n   \tGROUP BY C.TABLE_NAME\n)\nSELECT 'prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432' AS SERVER_NAME,\n\t'account_approval_db' AS DB_NAME,\n\t'AA_DB' AS TABLE_SCHEMA, \n    UPPER(t.TABLE_SCHEMA) AS SOURCE_SCHEMA,\n\tUPPER(t.TABLE_NAME) AS TABLE_NAME,\n\n        (\n          SELECT string_agg(a.attname, ',')  AS pk_cols\n          FROM pg_index i\n          INNER JOIN pg_attribute a ON (a.attrelid = i.indrelid AND a.attnum = ANY(i.indkey))\n          INNER JOIN pg_class c ON (c.oid = i.indrelid)\n          INNER JOIN pg_namespace ns ON (ns.oid = c.relnamespace)\n          WHERE 1=1\n            AND i.indisprimary\n            AND ns.nspname = t.TABLE_SCHEMA\n            AND i.indrelid::regclass::text = t.TABLE_NAME\n          GROUP BY ns.nspname, i.indrelid::regclass\n        ) AS pk_cols,\n  \n\tc.column_list, \n   \n  CASE\n  \tWHEN c.column_list ILIKE '%updated_at%' THEN 'updated_at'\n  \tWHEN c.column_list ILIKE '%created_at%' THEN 'created_at'\n  \tWHEN c.column_list ILIKE '%calculated_at%' THEN 'calculated_at' \n  END AS update_column_name  \n\nFROM INFORMATION_SCHEMA.TABLES t\nINNER JOIN column_list c ON (c.TABLE_NAME = t.TABLE_NAME)\nWHERE 1=1\n  AND t.TABLE_TYPE = 'BASE TABLE'\n  AND t.TABLE_SCHEMA = 'public'\n  AND t.TABLE_NAME NOT ILIKE '%journal%'\n  AND t.TABLE_NAME NOT ILIKE 'dt_%'\n  AND t.TABLE_NAME NOT IN ('jellyfish_event_log','giact')\n  AND t.TABLE_NAME NOT IN ('restriction','account_statement','user_cohorts', 'user_profile', 'user_product_application', 'depository', 'cma_migration', 'joint_account_invitation', 'cashback_posted_transaction')\n  AND t.TABLE_NAME     IN ( 'credit_alloy_review' ,'alloy_evaluation_receipt' ,'credit_alloy_retry_queue' ,'onfido_automated_approval_receipt' ,'credit_alloy_evaluation' ,'credit_alloy_entity')\n  AND EXISTS (SELECT * FROM INFORMATION_SCHEMA.COLUMNS c WHERE c.TABLE_SCHEMA = t.TABLE_SCHEMA AND c.TABLE_NAME = t.TABLE_NAME AND c.COLUMN_NAME IN ('created_at', 'updated_at', 'calculated_at'))\n--  AND TABLE_NAME = 'cma_migration'\nORDER BY t.TABLE_NAME\n;\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"11":{"slot":11,"name":"JDBC Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ssl"},"2":{"slot":2,"type":"STRING","value":"true"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"logUnclosedConnections"},"2":{"slot":2,"type":"STRING","value":"true"}}}},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"8"}}}},"visible":true},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${staging_schema}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TABLES_TO_REFRESH"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LOAD_WH"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"aspiration-etl-staging"}}}},"visible":true},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SSE KMS"}}}},"visible":true},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${kms_s3_key}"}}}},"visible":true},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Staging","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Amazon S3 Location"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2957476":{"id":2957476,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":64,"y":-80,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"copy_data"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"cj_copy_data"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"rds_endpoint"},"2":{"slot":2,"type":"STRING","value":"${rds_endpoint}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"source_db"},"2":{"slot":2,"type":"STRING","value":"${source_db}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"source_schema"},"2":{"slot":2,"type":"STRING","value":"${source_schema}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"source_table"},"2":{"slot":2,"type":"STRING","value":"${source_table}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"target_db"},"2":{"slot":2,"type":"STRING","value":"${target_db}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"target_schema"},"2":{"slot":2,"type":"STRING","value":"${target_schema}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"target_table"},"2":{"slot":2,"type":"STRING","value":"${target_table}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"pk_cols"},"2":{"slot":2,"type":"STRING","value":"${pk_cols}"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"column_list"},"2":{"slot":2,"type":"STRING","value":"${column_list}"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"update_column_name"},"2":{"slot":2,"type":"STRING","value":"${update_column_name}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[2957493]},"2957477":{"id":2957477,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":144,"y":-80,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"append_data"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"cj_append_data"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"target_schema"},"2":{"slot":2,"type":"STRING","value":"${target_schema}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"target_table"},"2":{"slot":2,"type":"STRING","value":"${target_table}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"pk_cols"},"2":{"slot":2,"type":"STRING","value":"${pk_cols}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"column_list"},"2":{"slot":2,"type":"STRING","value":"${column_list}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[2957498]},"2957478":{"id":2957478,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":64,"y":-112,"width":32,"height":16,"inputConnectorIDs":[2957474],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2957497],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"copy_iteration"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"tables_to_refresh"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"server_name"},"2":{"slot":2,"type":"STRING","value":"rds_endpoint"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"source_db"},"2":{"slot":2,"type":"STRING","value":"source_db"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"source_schema"},"2":{"slot":2,"type":"STRING","value":"source_schema"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"source_table"},"2":{"slot":2,"type":"STRING","value":"source_table"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"target_db"},"2":{"slot":2,"type":"STRING","value":"target_db"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"target_schema"},"2":{"slot":2,"type":"STRING","value":"target_schema"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"target_table"},"2":{"slot":2,"type":"STRING","value":"target_table"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"pk_cols"},"2":{"slot":2,"type":"STRING","value":"pk_cols"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"column_list"},"2":{"slot":2,"type":"STRING","value":"column_list"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"update_column_name"},"2":{"slot":2,"type":"STRING","value":"update_column_name"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[2957493],"inputIterationConnectorIDs":[]},"2957479":{"id":2957479,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1155583855,"x":-16,"y":-112,"width":32,"height":32,"inputConnectorIDs":[2957499],"outputSuccessConnectorIDs":[2957474],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"load_list"}}}},"visible":true},"2":{"slot":2,"name":"Basic/Advanced","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"4":{"slot":4,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"6":{"slot":6,"name":"Table Columns","elements":{},"visible":false},"7":{"slot":7,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SELECT 'prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432'    AS server_name\n     , 'web_db'                                                  AS source_db\n     , 'public'                                                                 AS source_schema\n     , 'PHONE_NUMBER_LEAD'                                                     AS source_table\n     \n     , 'ADW'                                                                    AS target_db\n     , 'WEB_DB'                                                                 AS target_schema\n     , 'PHONE_NUMBER_LEAD'                                               AS target_table\n     \n     , 'id'                                                                     AS pk_cols\n     , 'id,version,date_created,last_updated,uuid,phone_number,utm_source,utm_medium,utm_term,utm_content,utm_campaign'   AS column_list\n     , 'last_updated'                                                             AS update_column_name"}}}},"visible":true},"8":{"slot":8,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"tables_to_refresh"}}}},"visible":true},"9":{"slot":9,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SERVER_NAME"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCE_DB"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCE_SCHEMA"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"SOURCE_TABLE"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TARGET_DB"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"TARGET_SCHEMA"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"TARGET_TABLE"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"PK_COLS"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"COLUMN_LIST"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"UPDATE_COLUMN_NAME"}}}},"visible":true},"10":{"slot":10,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"11":{"slot":11,"name":"Order By","elements":{},"visible":false},"12":{"slot":12,"name":"Sort","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Ascending"}}}},"visible":false},"20":{"slot":20,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2957482":{"id":2957482,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-96,"y":-112,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2957496,2957499,2957500],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2957474":{"id":2957474,"sourceID":2957479,"targetID":2957478}},"failureConnectors":{},"unconditionalConnectors":{"2957496":{"id":2957496,"sourceID":2957482,"targetID":2957472},"2957497":{"id":2957497,"sourceID":2957478,"targetID":2957473},"2957499":{"id":2957499,"sourceID":2957482,"targetID":2957479},"2957500":{"id":2957500,"sourceID":2957482,"targetID":2957475}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"2957493":{"id":2957493,"sourceID":2957478,"targetID":2957476},"2957498":{"id":2957498,"sourceID":2957473,"targetID":2957477}},"noteConnectors":{},"notes":{},"variables":{"column_list":{"definition":{"name":"column_list","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"*"},"pk_cols":{"definition":{"name":"pk_cols","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"item_reference_id"},"rds_endpoint":{"definition":{"name":"rds_endpoint","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"prod-web-db-analytics.ctawxryivyva.us-west-2.rds.amazonaws.com:5432"},"source_db":{"definition":{"name":"source_db","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"account_approval_db"},"source_schema":{"definition":{"name":"source_schema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"public"},"source_table":{"definition":{"name":"source_table","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"giact"},"target_db":{"definition":{"name":"target_db","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"ADW"},"target_schema":{"definition":{"name":"target_schema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AA_DB"},"target_table":{"definition":{"name":"target_table","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"GIACT"},"update_column_name":{"definition":{"name":"update_column_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"created_at"}},"grids":{"tables_to_refresh":{"definition":{"name":"tables_to_refresh","scope":"BRANCH","definitions":[{"name":"server_name","type":"TEXT"},{"name":"source_db","type":"TEXT"},{"name":"source_schema","type":"TEXT"},{"name":"source_table","type":"TEXT"},{"name":"target_db","type":"TEXT"},{"name":"target_schema","type":"TEXT"},{"name":"target_table","type":"TEXT"},{"name":"pk_cols","type":"TEXT"},{"name":"column_list","type":"TEXT"},{"name":"update_column_name","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]}}},"info":{"name":"cj_load_data","description":"","type":"ORCHESTRATION","tag":"b483815f-5ec1-46c9-a9e3-5ce1d846049f"}}