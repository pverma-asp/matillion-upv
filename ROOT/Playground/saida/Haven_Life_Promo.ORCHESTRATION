{"job":{"components":{"2960064":{"id":2960064,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-416,"y":80,"width":32,"height":32,"inputConnectorIDs":[2960081],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Haven"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"/* transaction_type = 'A'  transaction_subtype = 'PA'   'Promotion - Term Life Insurance Quote' */\nDROP TABLE IF EXISTS ${staging_schema}.${staging_table};\nCREATE TABLE ${staging_schema}.${staging_table} AS\nWITH\n         haven_users AS (\n            SELECT DISTINCT\n                   ha._id AS opportunity_id\n                 , ha.accountcreatedate AS haven_created_date\n                 , ha.email AS email\n                 , nvl(u.id,ue.user_id) AS user_id\n            FROM rdl.havenlife_activity ha\n            LEFT JOIN web_db._user u ON u.uuid = ha.referralid\n            LEFT JOIN web_db.user_email ue ON regexp_replace(lower(ue.email),'\\\\+[^@]*@','@') = regexp_replace(lower(ha.email),'\\\\+[^@]*@','@')\n            ),\n         haven_states AS (\n            SELECT DISTINCT\n                   hd.user_id\n                 , first_value(hd.haven_created_date) over (partition by hd.user_id order by hd.haven_created_date asc nulls last rows unbounded preceding) AS haven_created_date\n                 , (ad.state_id NOT IN (2,4,54,13,15,19,29,32,34,41,47,31,28) AND ad.state_id IS NOT NULL) AS isvalid_state\n            FROM haven_users hd\n            LEFT JOIN web_db.user_profile up ON up.user_id = hd.user_id\n            LEFT JOIN web_db.address ad ON up.address_id = ad.id\n            ),\n         haven_credits AS (\n            SELECT DISTINCT\n                   uacc.user_id\n                 , credits.account_id\n                 , credits.total_credit\n                 , credits.count_credit\n            FROM (\n               SELECT d.account_id\n                    , sum(post.amount) AS total_credit\n                    , count(distinct post.id) AS count_credit\n               FROM web_db.galileo_posted_transaction gpt\n               JOIN web_db.posted_transaction post ON gpt.posted_transaction_id = post.id\n               JOIN web_db.depository d ON d.id = post.depository_id\n               WHERE gpt.transaction_description IN ('Aspiration Promotional Credit','Promotion - Term Life Insurance Quote','June 26 Duplicate Credit Reversal')\n                 AND gpt.transaction_amount = '10.00'\n                 AND gpt.rdf_date  IN ('2020-05-21', '2020-06-27', '2020-07-01', '2020-07-11', '2020-08-28', '2020-09-26')\n                 AND gpt.transaction_code_type = 'ADPA'\n               GROUP BY 1\n               ) credits\n            JOIN web_db.user_account uacc ON uacc.account_id = credits.account_id\n            ),\n         haven_accounts AS (\n            SELECT *\n            FROM (\n               SELECT upay.account_number AS prn\n                    , uapp.user_id\n                    , uapp.account_id\n                    , hs.haven_created_date::DATE AS haven_created_date\n                    , least(nvl(d.account_approved_time,current_date),nvl(d.inception_date,current_date),nvl(a.inception_date,current_date))::DATE AS asp_created_date\n                    , asp_created_date <= (hs.haven_created_date::DATE + 14) AS isbefore_haven\n                    , row_number() OVER (PARTITION BY uapp.account_id ORDER BY nvl(a.inception_date,current_date) ASC NULLS LAST, uapp.product_id ASC NULLS LAST) AS rownum\n               FROM haven_states hs\n               JOIN web_db.user_product_application uapp ON uapp.user_id = hs.user_id\n               JOIN web_db.account a ON a.id = uapp.account_id AND a.termination_date IS NULL AND nvl(a.is_admin_disabled,'false') <> 'true'\n               JOIN web_db.depository d ON d.account_id = a.id AND d.product_id = uapp.product_id\n               JOIN web_db.user_payment_account upay ON d.id = upay.depository_id\n                                                    AND upay.user_id = uapp.user_id\n                                                    AND nvl(upay.is_admin_disabled,'false') <> 'true'\n                                                    AND nvl(upay.is_deleted,'false') <> 'true'\n               )\n            WHERE rownum = 1\n            ),\n         haven_results AS (\n           SELECT *\n           FROM (\n              SELECT *\n                   , sum(case when isbefore_haven and isvalid_state then 10 end) over (partition by account_id order by haven_created_date rows between current row and unbounded following) AS credit_running\n                   , case when credit_running <= due_credit and isbefore_haven and isvalid_state then 10 else 0 end AS credit_amount\n              FROM (\n                 SELECT hs.user_id\n                      , ha.account_id\n                      , ha.prn\n                      , hs.haven_created_date\n                      , ha.asp_created_date\n                      , hs.isvalid_state\n                      , ha.isbefore_haven\n                      , sum(case when ha.isbefore_haven and hs.isvalid_state then 1 end) OVER (PARTITION BY ha.account_id) AS qualified_users\n                      , nvl(hc.count_credit,0) AS prior_transactions\n                      , trunc(nvl(hc.total_credit,0),2) AS prior_credit\n                      , trunc(qualified_users * 10,2) - prior_credit AS due_credit\n                 FROM haven_states hs\n                 LEFT JOIN haven_accounts ha ON ha.user_id = hs.user_id\n                 LEFT JOIN haven_credits hc ON hc.user_id = ha.user_id AND hc.account_id = ha.account_id\n                 WHERE hs.haven_created_date  BETWEEN '2020-11-20' AND ('2020-11-30'::DATE+1)\n                 )\n             )\n         WHERE credit_amount > 0\n         )\nSELECT row_number() over (order by 1)   ::VARCHAR AS record_number\n     , pr.prn\t\t\t\t\t\t\t::VARCHAR AS account_identifier\n     , '-10.00'\t\t\t           \t\t::VARCHAR AS transaction_amount\n     , 'LD_${run_history_id}-'\n       ||lpad(record_number,5,'0')\t\t::VARCHAR AS transaction_identifier\nFROM promo_results pr;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960065":{"id":2960065,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-160,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960085],"outputSuccessConnectorIDs":[2960091],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"batch"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DROP TABLE IF EXISTS public.ucj_batch_file;\nCREATE TABLE public.ucj_batch_file (\n   ROWNUM\tBIGINT,\n   COL_01   VARCHAR(256),\n   COL_02   VARCHAR(256),\n   COL_03   VARCHAR(256),\n   COL_04   VARCHAR(256),\n   COL_05   VARCHAR(256),\n   COL_06   VARCHAR(256),\n   COL_07   VARCHAR(256),\n   COL_08   VARCHAR(256),\n   COL_09   VARCHAR(256),\n   COL_10   VARCHAR(256),\n   COL_11   VARCHAR(256)\n   );\nINSERT INTO public.ucj_batch_file (\n   SELECT 0\n\t\t, rpad('H'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t, 1  )\n\t\t, rpad('HEADER'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t, 6  )\n\t\t, rpad('454'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t, 10 )\n\t\t, rpad('584'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t, 10 )\n\t\t, rpad('btrans_584_'||to_char(dateadd(hour,-7,current_timestamp()),'YYYYMMDD')||'_hp2113.txt.gpg'\t, 50 )\n\t\t, rpad(to_char(dateadd(hour,-7,current_timestamp()), 'MMDDYYYY')\t\t\t\t\t\t\t\t\t\t\t, 8  )\n\t\t, '', '', '', '', ''\n   );\nINSERT INTO public.ucj_batch_file (\n   SELECT record_number::bigint\n\t\t, record_type\n\t\t, record_number\n\t\t, account_id_type\n\t\t, account_identifier\n\t\t, location_id\n\t\t, location_type\n\t\t, transaction_type\n\t\t, transaction_sub_type\n\t\t, transaction_amount\n\t\t, transaction_description\n\t\t, transaction_identifier\n   FROM public.ucj_batch_stage\n   );\nINSERT INTO public.ucj_batch_file (\n   SELECT 999999\n        , rpad('T'\t\t\t\t, 1 )\n        , rpad('TRAILER'\t\t, 7 )\n        , rpad(count(1)::VARCHAR, 6 )\n        , '', '', '', '', '', '', '', ''\n   FROM public.ucj_batch_stage\n   );"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960066":{"id":2960066,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1946388514,"x":80,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960088],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960067":{"id":2960067,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-240,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960084],"outputSuccessConnectorIDs":[2960085],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stage"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DROP TABLE IF EXISTS public.ucj_batch_stage;\nCREATE TABLE public.ucj_batch_stage AS \n   SELECT rpad('D'\t\t\t\t\t\t\t\t\t\t, 1  ) AS record_type\n\t\t, rpad(record_number          \t\t\t\t\t, 6  ) AS record_number\n\t\t, rpad('R'\t\t\t\t\t\t\t\t\t\t, 1  ) AS account_id_type\n\t\t, rpad(account_identifier\t\t\t\t\t\t, 50 ) AS account_identifier\n\t\t, rpad(''\t\t\t\t\t\t\t\t\t\t, 1  ) AS location_id\n\t\t, rpad(''\t\t\t\t\t\t\t\t\t\t, 20 ) AS location_type\n\t\t, rpad('A'\t\t\t\t\t\t\t\t\t\t, 1  ) AS transaction_type\n\t\t, rpad('PA'\t\t\t\t\t\t\t\t\t\t, 3  ) AS transaction_sub_type\n\t\t, rpad(transaction_amount        \t\t\t\t, 13 ) AS transaction_amount\n\t\t, rpad('Promotion - Haven Life Insurance Quote'\t, 40 ) AS transaction_description\n\t\t, rpad(transaction_identifier          \t\t\t, 20 ) AS transaction_identifier\n   FROM public.ucj_batch_promo;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960089":{"id":2960089,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-416,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960086],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2960087],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Variables"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Udating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nimport datetime\n\n#add run_history_id to create a unique temp table for parrallel processing\ncontext.updateVariable(\"staging_table\", staging_table + str(run_history_id))\n\n#add YYYYMMDD to batch_filename varible \n#add value in batch_filename_sequence variable\n#Note: date calc rolls to next day when processed after 5pm MT or 4pm PT (Galileo is no longer processing at this time)\n#context.updateVariable(\"batch_filename\", batch_filename + datetime.date.today().strftime('%Y') + datetime.date.today().strftime('%m') + datetime.date.today().strftime('%d') + str(run_history_id) + '.txt')"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960092":{"id":2960092,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-80,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960091],"outputSuccessConnectorIDs":[2960090],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"output"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"copy into '@PUBLIC.ETL/file_processing/galileo_batch_transactions/batch_files/btrans_584_20210712_hp2113.txt'\nfrom (\n  select COL_01\n\t   , COL_02\n\t   , COL_03\n\t   , COL_04\n\t   , COL_05\n\t   , COL_06\n\t   , COL_07\n\t   , COL_08\n\t   , COL_09\n\t   , COL_10\n\t   , COL_11\n  from public.ucj_batch_file\n  order by ROWNUM ASC\n  )\n\tfile_format=(\n      type=csv\n      compression=none\n      field_delimiter=none\n    )\n    single=true\n    ;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960093":{"id":2960093,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-496,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2960081,2960086],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960094":{"id":2960094,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960090],"outputSuccessConnectorIDs":[2960088],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"cleanup"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DROP TABLE IF EXISTS public.ucj_batch_promo;\nDROP TABLE IF EXISTS public.ucj_batch_stage;\nDROP TABLE IF EXISTS public.ucj_batch_file;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2960095":{"id":2960095,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-320,"y":0,"width":32,"height":32,"inputConnectorIDs":[2960087],"outputSuccessConnectorIDs":[2960084],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"promo"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DROP TABLE IF EXISTS public.ucj_batch_promo;\nCREATE TABLE public.ucj_batch_promo AS\nWITH\n     haven_act as (select POLICYNUMBER, REFERRALID, ACCOUNTCREATEDATE, FIRSTNAME, LASTNAME, EMAIL\n                   from rdl.HAVENLIFE_ACTIVITY\n                   where to_date(ACCOUNTCREATEDATE) between '2021-12-01' and '2021-12-31'\n                     and STATE NOT IN ('AK', 'AR', 'DC', 'IL', 'IA', 'ME', 'NH', 'NY', 'ND', 'SD', 'WA', 'NM', 'NV')),\n     daily_balance as (\n         select a.UNIQUE_ACCOUNT_ID,\n                ifnull(count(distinct a.DATE), 0) as count_overdraft_days\n         from bi.DT_ACCOUNT_DAILY_DATA a\n                  join bi.DT_ACCOUNTS b on a.UNIQUE_ACCOUNT_ID = b.UNIQUE_ACCOUNT_ID\n         where a.DATE >= b.INCEPTION_DATE\n           and (a.SPEND_DAILY_BALANCE < 0\n             or a.SAVE_DAILY_BALANCE < 0)\n         group by 1)\nselect distinct row_number() over (order by 1) ::VARCHAR     AS record_number,\n                nvl(a.SPEND_GALILEO_PRN, a.SAVE_GALILEO_PRN) as account_identifier,\n                -25.00                                          as transaction_amount,\n                'HP_${run_history_id}-' || lpad(record_number,5,'0')\t ::VARCHAR AS transaction_identifier\nfrom bi.DT_ACCOUNTS a\n         left join daily_balance db on a.UNIQUE_ACCOUNT_ID = db.UNIQUE_ACCOUNT_ID\n         join bi.dt_users u on a.user_id = u.user_id\n         join haven_act t on u.user_email = t.email\nwhere a.SPEND_CURRENT_BALANCE >= 0\n  and a.SAVE_CURRENT_BALANCE >= 0\n  and a.TERMINATION_DATE is null\n  and db.UNIQUE_ACCOUNT_ID is null;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2960084":{"id":2960084,"sourceID":2960095,"targetID":2960067},"2960085":{"id":2960085,"sourceID":2960067,"targetID":2960065},"2960088":{"id":2960088,"sourceID":2960094,"targetID":2960066},"2960090":{"id":2960090,"sourceID":2960092,"targetID":2960094},"2960091":{"id":2960091,"sourceID":2960065,"targetID":2960092}},"failureConnectors":{},"unconditionalConnectors":{"2960081":{"id":2960081,"sourceID":2960093,"targetID":2960064},"2960086":{"id":2960086,"sourceID":2960093,"targetID":2960089},"2960087":{"id":2960087,"sourceID":2960089,"targetID":2960095}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{"2960068":{"id":2960068,"x":117,"y":-163,"width":382,"height":129,"text":"**``HEADER``**\n\n0**  COLUMN                        L      S     E      VAL                   REQ**\n1   RECORD_TYPE                1      1     1      \"H\"                    Y\n2   HEADER                           6      2     7      \"HEADER\"        Y\n3   CLIENT_ID                       10    8     17    454                    Y\n4   PROGRAM_ID                 10   18    27    584\n5   FILE_NAME                      50   28   77    var                     Y\n6   FILE_TRANSMIT_DATE   8     78   85    MMDDYYYY      Y","colour":"e6e63c"},"2960069":{"id":2960069,"x":117,"y":-30,"width":382,"height":198,"text":"**``DETAIL``**\n\n0**   COLUMN                                       L      S       E      VALUE           REQ**\n1    RECORD_TYPE                               1     1       1      \"D\"                   Y\n2    RECORD_NUMBER                        6     2       7      999999           Y\n3    ACCOUNT_ID_TYPE                      1      8       8      R                      Y\n4    ACCOUNT_IDENTIFIER                 50    9      58    PRN                 Y\n5    LOCATION_ID                                1      59    59                             N\n6    LOCATION_TYPE                           20    60    79                             N\n7    TRANSACTION_TYPE                    1      80    80     var                   Y\n8    TRANSACTION_SUB_TYPE           3      81    83                             N\n9    TRANSACTION_AMOUNT            13    84    96    1234567891   Y\n10  TRANSACTION_DESCRIPTION    40    97    136   var                  N\n11  TRANSACTION_IDENTIFIER         20    137  156                          N","colour":"e6e63c"},"2960070":{"id":2960070,"x":-342,"y":-70,"width":44,"height":106,"text":"Query\nAmount","colour":"e6e63c"},"2960071":{"id":2960071,"x":118,"y":172,"width":382,"height":83,"text":"**``TRAILER``**\n\n0**\tCOLUMN .         L    S    E    VALUE        REQ**\n1  RECORD_TYPE   1    1    1    \"T\"               Y\n2  TRAILER              7    2    8    \"TRAILER\"   Y\n3  COUNT               6    9    14   999999       Y","colour":"e6e63c"},"2960072":{"id":2960072,"x":-104,"y":-70,"width":47,"height":106,"text":"Filename","colour":"e6e63c"},"2960074":{"id":2960074,"x":-341,"y":56,"width":283,"height":138,"text":"Types\nA: adjustment\n\nSubtypes\nPA: promotion...\nCD: cashback?","colour":"e6e63c"},"2960075":{"id":2960075,"x":-263,"y":-69,"width":46,"height":105,"text":"Descript\nType\nSubtype","colour":"e6e63c"}},"variables":{"batch_table":{"definition":{"name":"batch_table","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"tmp_batch_file"},"file_number":{"definition":{"name":"file_number","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"input_bucket":{"definition":{"name":"input_bucket","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"s3://aspiration-etl-staging/file_processing/galileo_batch_transactions/batch_files"},"input_filename":{"definition":{"name":"input_filename","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"passed_variable"},"staging_table":{"definition":{"name":"staging_table","type":"TEXT","scope":"BRANCH","description":"","visibility":"PRIVATE"},"value":"tmp_batch_stage"}},"grids":{}},"info":{"name":"Haven_Life_Promo","description":"","type":"ORCHESTRATION","tag":"47c9671c-f9ab-4ba0-b72e-bc24fb31db3f"}}