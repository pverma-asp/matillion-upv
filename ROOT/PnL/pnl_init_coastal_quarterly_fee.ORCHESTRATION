{"job":{"components":{"2963904":{"id":2963904,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-1296,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963979],"outputSuccessConnectorIDs":[2963923],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_init_view_unique_user_accounts"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_init_view_unique_user_accounts"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963905":{"id":2963905,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-928,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963921],"outputSuccessConnectorIDs":[2963927],"outputFailureConnectorIDs":[2963972],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create\\Truncate"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CREATE TABLE IF NOT EXISTS edw.${Target_table}(id bigint identity(1, 1),\n                                                     execution timestamp with time zone,\n                                                     User_id bigint not null,\n                                                     Account_id bigint not null,\n                                                     Depository_id bigint,\n                                                     Investment_id bigint,\n                                                     Account_type varchar(50),\n                                                     Product_type varchar(50),\n--                                                      Account_product_type_id int, --account.product_type\n--                                                      Account_product_type_name varchar(50), --1 = investment, 2 = depository\n--                                                      Account_product_id int, --<depository.product_id>\n--                                                      Account_product_name varchar(50), --3 = Summit , 4 = Spend, 5 = Save\n--                                                      Account_type_id int, --<account.account_type_id>\n--                                                      Account_type_name varchar(50), --2 = Individual, 3 = IRA\n--                                                      Account_investment_type_id int, --<investment.fund_id>\n--                                                      Account_investment_type_name varchar(50), --1 = Flagship, 2 = Redwood\n                                                     Non_customer boolean, -- True for ZenDesk/False for others\n                                                     Category varchar(50) not null,\n                                                     Item varchar(50) not null,\n                                                     Date timestamp with time zone,\n                                                     Value numeric(38,8),\n                                                     Value_type varchar(50),\n                                                     primary key(id));\n                                                \nTRUNCATE edw.${Target_table}"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963906":{"id":2963906,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-512,"y":-240,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[2963983],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_init_consolidated_pnl"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_init_consolidated_pnl"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Source_table"},"2":{"slot":2,"type":"STRING","value":"${Target_table}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Item_name"},"2":{"slot":2,"type":"STRING","value":"${Item_name}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963907":{"id":2963907,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":235671163,"x":-1168,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963920,2963923,2963981],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2963977],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963908":{"id":2963908,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-1456,"y":-240,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2963976,2963979,2963982],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963910":{"id":2963910,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-176,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963980],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TMP"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"GRANT SELECT ON ${Pnl_schema}.${Target_table} TO \"spashchenko.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Target_table} TO \"ashumakov.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Target_table} TO \"vfigurkin.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Target_table} TO \"opetrova.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Target_table} TO \"idudkin.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Consolidated_table} TO \"spashchenko.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Consolidated_table} TO \"ashumakov.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Consolidated_table} TO \"vfigurkin.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Consolidated_table} TO \"opetrova.ctr\";\nGRANT SELECT ON ${Pnl_schema}.${Consolidated_table} TO \"idudkin.ctr\";\n\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963911":{"id":2963911,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-816,"y":-240,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Execution"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SET timezone = 'America/Los_Angeles';\n\nINSERT INTO edw.${Target_table}(execution,\n                                      User_id,\n                                      Account_id,\n                                      Depository_id,\n                                      Investment_id,\n                                      Account_type,\n                                      Product_type,\n--                                       Account_product_type_id,\n--                                       Account_product_type_name,\n--                                       Account_product_id,\n--                                       Account_product_name,\n                                      Non_customer,\n                                      Category,\n                                      Item,\n                                      Date,\n                                      Value,\n                                      Value_type)\n\nWITH\n  quarter_dates AS (\n    SELECT DATE_TRUNC('quarter', DATEADD('quarter', ${Quarter_iterator}, current_date)) AS cur_quart_first,\n           cur_quart_first - 1 AS prev_quart_last,\n           DATE_TRUNC('quarter', prev_quart_last) AS prev_quart_first,\n           DATEDIFF(day, prev_quart_first, cur_quart_first) AS days_in_quart\n  ),\n\n  date_gen AS (\n    SELECT DATEADD('day', i.i - 1, DATE_TRUNC('quarter', (SELECT prev_quart_first FROM quarter_dates) - 1)) AS Date\n    FROM (\n           SELECT ROW_NUMBER() OVER(ORDER BY SEQ4()) i\n           FROM TABLE(\n                generator(\n                        rowcount => 200\n                    )\n               )\n         ) i\n    WHERE DATE_TRUNC('quarter', Date) = (SELECT prev_quart_first FROM quarter_dates)\n  ),\n\n  count_depositories AS (\n    SELECT dep.product_id,\n           COUNT(CASE WHEN dep.product_id = 5 THEN 1 END) AS save_cnt,\n           COUNT(CASE WHEN dep.product_id = 4 THEN 1 END) AS spend_cnt,\n           (CASE WHEN dep.product_id = 5\n                   THEN (SELECT save_portion::float FROM edw.etl_coastal_quarterly_fee\n                         WHERE DATE_TRUNC('quarter', date) = (SELECT prev_quart_first FROM quarter_dates)) / save_cnt\n                 ELSE (SELECT spend_portion::float FROM edw.etl_coastal_quarterly_fee\n                       WHERE DATE_TRUNC('quarter', date) = (SELECT prev_quart_first FROM quarter_dates)) / spend_cnt\n             END) AS coastal_avg_quart\n    FROM web_db.depository dep\n           INNER JOIN edw.view_unique_user_accounts uau ON uau.account_id = dep.account_id\n           INNER JOIN edw.view_accounts_termination_dates atd ON atd.account_id = dep.account_id\n    WHERE dep.product_id IN (4, 5)\n      AND dep.inception_date <= (SELECT prev_quart_last FROM quarter_dates)\n      AND (atd.termination_date IS NULL\n        OR (atd.termination_date::date >= (SELECT prev_quart_first FROM quarter_dates)\n          AND dep.inception_date <= atd.termination_date))\n    GROUP BY dep.product_id\n  ),\n\n  coastal_save_fee AS (\n    SELECT coastal_avg_quart\n    FROM count_depositories\n    WHERE product_id = 5\n  ),\n\n  coastal_spend_fee AS (\n    SELECT coastal_avg_quart\n    FROM count_depositories\n    WHERE product_id = 4\n  ),\n\n  coastal_fee_by_depository AS (\n    SELECT uau.user_id AS User_id,\n           uau.account_id AS Account_id,\n           dep.id AS Depository_id,\n           dep.product_id AS Account_product_id,\n           DATEDIFF(day, (SELECT prev_quart_first FROM quarter_dates), dep.inception_date::date) AS start_diff,\n           (CASE WHEN start_diff IS NULL THEN 0\n                 WHEN start_diff < 0 THEN 0\n                 ELSE start_diff END) AS adj_start_diff,\n           DATEDIFF(day, atd.termination_date::date, (SELECT prev_quart_last FROM quarter_dates)) AS stop_diff,\n           (CASE WHEN stop_diff IS NULL THEN 0\n                 WHEN stop_diff < 0 THEN 0\n                 ELSE stop_diff END) AS adj_stop_diff,\n           (SELECT days_in_quart FROM quarter_dates) - adj_start_diff - adj_stop_diff AS days_dep_existed_in_quart,\n           qd.Date,\n           (CASE WHEN Account_product_id = 5 THEN (SELECT coastal_avg_quart FROM coastal_save_fee) / days_dep_existed_in_quart\n                 WHEN Account_product_id = 4 THEN (SELECT coastal_avg_quart FROM coastal_spend_fee) / days_dep_existed_in_quart\n             END) AS avg_val,\n           (CASE WHEN dep.inception_date > qd.Date THEN 0\n                 WHEN atd.termination_date < qd.Date THEN 0\n                 ELSE avg_val END) AS Value\n\n    FROM web_db.depository dep\n           INNER JOIN edw.view_unique_user_accounts uau ON uau.account_id = dep.account_id\n           INNER JOIN edw.view_accounts_termination_dates atd ON atd.account_id = dep.account_id\n           CROSS JOIN date_gen qd\n    WHERE dep.product_id IN (4, 5)\n      AND dep.inception_date <= (SELECT prev_quart_last FROM quarter_dates)\n      AND (atd.termination_date IS NULL\n        OR (atd.termination_date::date >= (SELECT prev_quart_first FROM quarter_dates)\n          AND dep.inception_date <= atd.termination_date))\n  )\n\nSELECT current_date() AS execution,\n       User_id,\n       Account_id,\n       Depository_id,\n       NULL AS Investment_id,\n       'Depository'::text AS Account_type,\n       (CASE\n          WHEN Account_product_id = 4 THEN 'Spend'::text\n          WHEN Account_product_id = 5 THEN 'Save'::text\n          ELSE ''::text\n         END) AS Product_type,\n--        2 AS Account_product_type_id,\n--        'Depository'::text AS Account_product_type_name,\n--        Account_product_id,\n--        (CASE\n--           WHEN Account_product_id = 3 THEN 'Summit'::text\n--           WHEN Account_product_id = 4 THEN 'Spend'::text\n--           WHEN Account_product_id = 5 THEN 'Save'::text\n--           ELSE ''::text\n--          END) AS Account_product_name,\n       FALSE AS Non_customer,\n       'Indirect'::text AS Category,\n       'Coastal Quarterly Fee'::text AS Item,\n       Date,\n       -cfd.Value AS Value,\n       'Cost'::text AS Value_type\nFROM coastal_fee_by_depository cfd;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[2963975]},"2963924":{"id":2963924,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-352,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963983],"outputSuccessConnectorIDs":[2963980],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_exec_coastal_quarterly_fee"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_exec_coastal_quarterly_fee"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963925":{"id":2963925,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-1296,"y":-336,"width":32,"height":32,"inputConnectorIDs":[2963976],"outputSuccessConnectorIDs":[2963920],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_etl_email"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_etl_email"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963928":{"id":2963928,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-1296,"y":-160,"width":32,"height":32,"inputConnectorIDs":[2963982],"outputSuccessConnectorIDs":[2963981],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_init_view_accounts_termination_dates"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pnl_init_view_accounts_termination_dates"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963929":{"id":2963929,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":-657,"y":-112,"width":32,"height":32,"inputConnectorIDs":[2963922],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963930":{"id":2963930,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":-816,"y":-272,"width":32,"height":16,"inputConnectorIDs":[2963927],"outputSuccessConnectorIDs":[2964000],"outputFailureConnectorIDs":[2963973],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grid Iterator 0"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Quarters"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Quarter"},"2":{"slot":2,"type":"STRING","value":"Quarter_iterator"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[2963975],"inputIterationConnectorIDs":[]},"2963931":{"id":2963931,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-1088,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963977],"outputSuccessConnectorIDs":[2963926],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Quarters"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\nimport datetime\nimport math\n\nnow = datetime.datetime.today() \nstart = datetime.datetime(2019, 1, 1)\n\ndelta = now - start\n\nquarterslist = []\n\nquartq = math.trunc(float((start.year - now.year) * 12 + start.month - now.month)/3)\n\nprint(quartq)\n\nq = quartq\ni = -1\nwhile i > q:\n quarterslist.append([i])\n i = i - 1\ncontext.updateGridVariable('Quarters', quarterslist)\nprint Quarters\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963932":{"id":2963932,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSACTION","implementationID":-1540940111,"x":-752,"y":-112,"width":32,"height":32,"inputConnectorIDs":[2963978],"outputSuccessConnectorIDs":[2963922],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rollback 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963933":{"id":2963933,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSACTION","implementationID":-1785670938,"x":-1008,"y":-240,"width":32,"height":32,"inputConnectorIDs":[2963926],"outputSuccessConnectorIDs":[2963921],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Begin 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963934":{"id":2963934,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":-864,"y":-112,"width":32,"height":32,"inputConnectorIDs":[2963972,2963973],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[2963978],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"2963935":{"id":2963935,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSACTION","implementationID":977205684,"x":-708,"y":-237,"width":32,"height":32,"inputConnectorIDs":[2964000],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Commit 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"2963920":{"id":2963920,"sourceID":2963925,"targetID":2963907},"2963921":{"id":2963921,"sourceID":2963933,"targetID":2963905},"2963922":{"id":2963922,"sourceID":2963932,"targetID":2963929},"2963923":{"id":2963923,"sourceID":2963904,"targetID":2963907},"2963926":{"id":2963926,"sourceID":2963931,"targetID":2963933},"2963927":{"id":2963927,"sourceID":2963905,"targetID":2963930},"2963980":{"id":2963980,"sourceID":2963924,"targetID":2963910},"2963981":{"id":2963981,"sourceID":2963928,"targetID":2963907},"2963983":{"id":2963983,"sourceID":2963906,"targetID":2963924},"2964000":{"id":2964000,"sourceID":2963930,"targetID":2963935}},"failureConnectors":{"2963972":{"id":2963972,"sourceID":2963905,"targetID":2963934},"2963973":{"id":2963973,"sourceID":2963930,"targetID":2963934}},"unconditionalConnectors":{"2963976":{"id":2963976,"sourceID":2963908,"targetID":2963925},"2963977":{"id":2963977,"sourceID":2963907,"targetID":2963931},"2963978":{"id":2963978,"sourceID":2963934,"targetID":2963932},"2963979":{"id":2963979,"sourceID":2963908,"targetID":2963904},"2963982":{"id":2963982,"sourceID":2963908,"targetID":2963928}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"2963975":{"id":2963975,"sourceID":2963930,"targetID":2963911}},"noteConnectors":{},"notes":{"2963909":{"id":2963909,"x":-236,"y":-284,"width":98,"height":86,"text":"for development","colour":"d60000"}},"variables":{"Consolidated_table":{"definition":{"name":"Consolidated_table","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"consolidated_pnl"},"Item_name":{"definition":{"name":"Item_name","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"'Coastal Quarterly Fee'"},"Pnl_schema":{"definition":{"name":"Pnl_schema","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"edw"},"Quarter_iterator":{"definition":{"name":"Quarter_iterator","type":"DECIMAL","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"Target_table":{"definition":{"name":"Target_table","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"coastal_quarterly_fee"}},"grids":{"Quarters":{"definition":{"name":"Quarters","scope":"BRANCH","definitions":[{"name":"Quarter","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[]}}},"info":{"name":"pnl_init_coastal_quarterly_fee","description":"Initialization of Item in PnL Report schema and load all data incl historical","type":"ORCHESTRATION","tag":"d84764c1-9af5-4a9e-a1c5-e38afe035467"}}